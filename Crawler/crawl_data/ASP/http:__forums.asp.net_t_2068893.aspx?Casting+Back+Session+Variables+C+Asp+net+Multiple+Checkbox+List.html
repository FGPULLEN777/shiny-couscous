<!DOCTYPE HTML><html><head>	<title>Casting Back Session Variables C# Asp.net Multiple Checkbox List | The ASP.NET Forums</title>	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />            <meta name="viewport" content="width=device-width, initial-scale=1"/>    	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>    <link rel="alternate" type="application/rss+xml" title="Casting Back Session Variables C# Asp.net Multiple Checkbox List RSS" href="/t/rss/2068893" />    <meta name="description" content="So I have a search page with multiple checkboxlist, 7 in total, a button to submit the search as well as a button to toggle view of all the checkbox list search parameters. Each checkbox list has m..." /><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@aspnet" /><meta name="twitter:domain" content="forums.asp.net" /><meta name="twitter:image:src" content="//forums-asp.azureedge.net/resources/v-2015-12-04-001/cheetah/images/ui/asplogo-square.png" /><meta name="twitter:title" content="Casting Back Session Variables C# Asp.net Multiple Checkbox List" /><meta name="twitter:description" content="So I have a search page with multiple checkboxlist, 7 in total, a button to submit the search as well as a button to toggle view of all the checkbox list search parameters. Each checkbox list has m..." /><meta property="og:type" content="website" /><meta property="og:title" content="Casting Back Session Variables C# Asp.net Multiple Checkbox List" /><meta property="og:description" content="So I have a search page with multiple checkboxlist, 7 in total, a button to submit the search as well as a button to toggle view of all the checkbox list search parameters. Each checkbox list has m..." /><meta property="og:image" content="//forums-asp.azureedge.net/resources/v-2015-12-04-001/cheetah/images/ui/asplogo-square.png" /><meta property="og:url" content="http://forums.asp.net/t/2068893.aspx?Casting+Back+Session+Variables+C+Asp+net+Multiple+Checkbox+List" /><meta property="og:site_name" content="The Official Forums for Microsoft ASP.NET" /><meta property="fb:admins" content="scott.hanselman" /><meta property="fb:admins" content="jon.galloway" /><meta property="fb:admins" content="robmcm" />    <link rel="canonical" href="http://forums.asp.net/t/2068893.aspx?Casting+Back+Session+Variables+C+Asp+net+Multiple+Checkbox+List" />    <link rel="search" type="application/opensearchdescription+xml" title="Forums.asp.net" href="/opensearch.xml">	<link href="//forums-asp.azureedge.net/resources/v-2015-12-04-001/favicon.ico" rel="shortcut icon" />        			<link href="//forums-asp.azureedge.net/resources/v-2015-12-04-001/cheetah/style/css-bundle/common-responsive.css" rel="stylesheet" type="text/css" media="all" />	    				<!--[if lte IE 9]>      <script src='//forums-asp.azureedge.net/resources/v-2015-12-04-001/scripts/html5.js' type="text/javascript"></script>    <![endif]-->    <script type="text/javascript" src="//forums-asp.azureedge.net/resources/v-2015-12-04-001/scripts/jquery-1.8.3.min.js"></script>	<script type="text/javascript">$.ajaxSetup({ cache: false }); var isProd = true;</script>	    	<style id="antiClickjack">body{display:none !important;}</style>	<script type="text/javascript">if(self===top){var antiClickjack=document.getElementById("antiClickjack");antiClickjack.parentNode.removeChild(antiClickjack)}else top.location=self.location;</script>		<script type="text/javascript">		var appInsights=window.appInsights||function(config){			function r(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s=u.createElement(o),i,f;for(s.src=config.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js",u.getElementsByTagName(o)[0].parentNode.appendChild(s),t.cookie=u.cookie,t.queue=[],i=["Event","Exception","Metric","PageView","Trace"];i.length;)r("track"+i.pop());return r("setAuthenticatedUserContext"),r("clearAuthenticatedUserContext"),config.disableExceptionTracking||(i="onerror",r("_"+i),f=e[i],e[i]=function(config,r,u,e,o){var s=f&&f(config,r,u,e,o);return s!==!0&&t["_"+i](config,r,u,e,o),s}),t		}({			samplingPercentage: 10, 			instrumentationKey:"e363b0f3-90f9-4e21-bd67-4cb4346b1218"	    });       		window.appInsights=appInsights;		appInsights.trackPageView();    </script></head><body class="details">		    <div class="all-content">	    <!--<div style="background-color:#fc0;padding:10px;font-size:16px;text-align:center;">Edit me from backoffice - Raw > Banner</div>-->		<header>			<div class="header-content">				<a href="//www.asp.net/" id="logo" data-s-object-id="logo"><svg version="1.1" id="svg5358" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1033.746 220.695" enable-background="new 0 0 1033.746 220.695" xml:space="preserve"><path id="path5056" fill="#FFFFFF" d="M1033.745,99.838v-18.18h-22.576V53.395l-0.76,0.234l-21.205,6.487l-0.417,0.128v21.414h-33.469V69.73c0-5.556,1.242-9.807,3.689-12.643c2.432-2.801,5.909-4.225,10.343-4.225c3.188,0,6.49,0.752,9.812,2.232l0.832,0.371V36.32l-0.391-0.143c-3.1-1.114-7.315-1.676-12.539-1.676c-6.585,0-12.568,1.433-17.786,4.273c-5.222,2.844-9.329,6.903-12.205,12.065c-2.868,5.156-4.322,11.111-4.322,17.702v13.115H917.03v18.18h15.721v76.59h22.567v-76.59h33.469v48.672c0,20.045,9.455,30.203,28.101,30.203c3.065,0,6.289-0.359,9.583-1.063c3.352-0.722,5.634-1.443,6.978-2.213l0.298-0.176v-18.348l-0.918,0.607c-1.225,0.816-2.75,1.483-4.539,1.979c-1.796,0.505-3.296,0.758-4.457,0.758c-4.369,0-7.6-1.177-9.606-3.5c-2.027-2.344-3.057-6.443-3.057-12.177V99.838H1033.745L1033.745,99.838z M866.634,160.26c-8.191,0-14.648-2.716-19.2-8.066c-4.578-5.377-6.898-13.043-6.898-22.783c0-10.049,2.32-17.914,6.901-23.387c4.554-5.436,10.95-8.194,19.014-8.194c7.825,0,14.054,2.635,18.515,7.836c4.485,5.228,6.76,13.03,6.76,23.196c0,10.291-2.14,18.196-6.359,23.484C881.175,157.594,874.874,160.26,866.634,160.26 M867.639,79.375c-15.627,0-28.04,4.579-36.889,13.61c-8.844,9.032-13.329,21.531-13.329,37.153c0,14.838,4.378,26.773,13.012,35.468c8.634,8.698,20.384,13.104,34.92,13.104c15.148,0,27.313-4.643,36.16-13.799c8.845-9.146,13.326-21.527,13.326-36.784c0-15.07-4.205-27.094-12.503-35.731C894.035,83.756,882.358,79.375,867.639,79.375 M781.035,79.375c-10.63,0-19.422,2.719-26.14,8.08c-6.758,5.393-10.185,12.466-10.185,21.025c0,4.448,0.739,8.4,2.195,11.752c1.466,3.363,3.733,6.324,6.744,8.809c2.99,2.465,7.603,5.047,13.718,7.674c5.139,2.115,8.973,3.904,11.407,5.314c2.38,1.382,4.07,2.771,5.023,4.124c0.927,1.323,1.398,3.136,1.398,5.372c0,6.367-4.768,9.465-14.579,9.465c-3.639,0-7.79-0.76-12.338-2.258c-4.55-1.496-8.801-3.647-12.634-6.406l-0.936-0.672v21.727l0.344,0.16c3.193,1.474,7.219,2.717,11.963,3.695c4.736,0.979,9.039,1.477,12.778,1.477c11.534,0,20.823-2.732,27.601-8.125c6.821-5.43,10.279-12.67,10.279-21.525c0-6.388-1.861-11.867-5.53-16.284c-3.643-4.382-9.965-8.405-18.785-11.961c-7.026-2.82-11.527-5.161-13.384-6.958c-1.79-1.736-2.698-4.191-2.698-7.3c0-2.756,1.121-4.964,3.425-6.753c2.321-1.797,5.551-2.711,9.604-2.711c3.76,0,7.607,0.594,11.433,1.758c3.824,1.164,7.182,2.723,9.985,4.63l0.921,0.63V83.504l-0.354-0.152c-2.587-1.109-5.996-2.059-10.138-2.828C788.029,79.761,784.288,79.375,781.035,79.375 M685.878,160.26c-8.188,0-14.648-2.716-19.198-8.066c-4.58-5.377-6.896-13.041-6.896-22.783c0-10.049,2.318-17.914,6.901-23.387c4.55-5.436,10.944-8.194,19.013-8.194c7.822,0,14.051,2.635,18.514,7.836c4.484,5.228,6.76,13.03,6.76,23.196c0,10.291-2.142,18.196-6.361,23.484C700.419,157.594,694.12,160.26,685.878,160.26 M686.886,79.375c-15.632,0-28.044,4.579-36.889,13.61c-8.844,9.032-13.331,21.531-13.331,37.153c0,14.844,4.38,26.773,13.014,35.468c8.634,8.698,20.382,13.104,34.92,13.104c15.145,0,27.313-4.643,36.16-13.799c8.842-9.146,13.326-21.527,13.326-36.784c0-15.07-4.207-27.094-12.506-35.731C713.276,83.756,701.604,79.375,686.886,79.375 M602.409,98.07V81.658h-22.293v94.767h22.293v-48.477c0-8.243,1.868-15.015,5.556-20.13c3.642-5.054,8.494-7.615,14.418-7.615c2.007,0,4.261,0.332,6.702,0.986c2.416,0.651,4.166,1.357,5.199,2.102l0.936,0.679V81.496l-0.361-0.155c-2.076-0.882-5.012-1.327-8.729-1.327c-5.602,0-10.615,1.8-14.908,5.344c-3.77,3.115-6.494,7.387-8.577,12.713H602.409L602.409,98.07z M540.195,79.375c-10.226,0-19.349,2.193-27.108,6.516c-7.775,4.333-13.787,10.52-17.879,18.385c-4.072,7.848-6.14,17.014-6.14,27.235c0,8.954,2.005,17.171,5.967,24.413c3.966,7.254,9.578,12.928,16.682,16.865c7.094,3.931,15.293,5.924,24.37,5.924c10.594,0,19.639-2.118,26.892-6.295l0.292-0.168v-20.423l-0.937,0.684c-3.285,2.393-6.956,4.303-10.906,5.679c-3.939,1.375-7.532,2.07-10.681,2.07c-8.748,0-15.769-2.737-20.866-8.133c-5.109-5.403-7.699-12.99-7.699-22.537c0-9.607,2.701-17.389,8.025-23.131c5.306-5.726,12.341-8.629,20.907-8.629c7.327,0,14.468,2.48,21.223,7.381l0.934,0.679V84.371l-0.302-0.17c-2.542-1.423-6.008-2.598-10.313-3.488C548.37,79.824,544.18,79.375,540.195,79.375 M473.715,81.658h-22.293v94.767h22.293V81.658z M462.796,41.287c-3.668,0-6.868,1.249-9.497,3.725c-2.64,2.482-3.98,5.607-3.98,9.295c0,3.629,1.324,6.697,3.938,9.113c2.598,2.408,5.808,3.63,9.54,3.63c3.731,0,6.954-1.222,9.583-3.626c2.646-2.42,3.987-5.488,3.987-9.117c0-3.559-1.305-6.652-3.879-9.195C469.918,42.574,466.656,41.287,462.796,41.287 M407.177,74.667v101.757h22.75V44.189H398.44l-40.022,98.221l-38.839-98.221h-32.769v132.234h21.379V74.657h0.734l41.013,101.767h16.134l40.372-101.757H407.177L407.177,74.667z"/><path id="path5058" fill="#F1511B" d="M104.867,104.867H0V0h104.867V104.867z"/><path id="path5060" fill="#80CC28" d="M220.654,104.867H115.787V0h104.867V104.867z"/><path id="path5062" fill="#00ADEF" d="M104.865,220.695H0V115.828h104.865V220.695z"/><path id="path5064" fill="#FBBC09" d="M220.654,220.695H115.787V115.828h104.867V220.695z"/></svg></a>				<a href="https://jabbr.net/#/rooms/Lobby" class="jabbr" title="JabbR"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 13.327 14.89" enable-background="new 0 0 13.327 14.89" xml:space="preserve"><g opacity="0.9"><g><defs><rect id="SVGID_1_" width="13.327" height="14.89"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><path clip-path="url(#SVGID_2_)" fill="#FFFFFF" d="M11.422,11.915c-0.098-0.154-0.207-0.312-0.327-0.474c-0.119-0.162-0.244-0.313-0.375-0.454c-0.132-0.14-0.267-0.263-0.408-0.367c-0.141-0.106-0.285-0.183-0.436-0.229v-0.028c0.342-0.099,0.652-0.234,0.932-0.408c0.278-0.172,0.517-0.379,0.713-0.617c0.197-0.239,0.35-0.508,0.457-0.805c0.107-0.298,0.162-0.623,0.162-0.974c0-1.324-0.651-2.161-1.935-2.525c0.001-0.038,0.009-0.074,0.009-0.112c0-2.344-1.59-4.319-3.747-4.917v0.679c1.785,0.575,3.081,2.246,3.091,4.216C9.224,4.851,8.871,4.817,8.472,4.817h-0.27C8.154,3.352,7.089,2.142,5.688,1.875v0.673c1.037,0.254,1.813,1.166,1.86,2.269H6.565C6.512,4.055,5.882,3.452,5.106,3.452c-0.811,0-1.468,0.657-1.468,1.468c0,0.732,0.535,1.333,1.234,1.446v8.529h2.27v-3.857h0.612c0.14,0,0.271,0.028,0.39,0.088c0.119,0.058,0.234,0.142,0.345,0.252s0.219,0.242,0.327,0.397c0.106,0.154,0.22,0.33,0.336,0.527l1.568,2.593h2.606L11.422,11.915z M9.3,8.9C9.005,9.181,8.614,9.323,8.126,9.323H7.143V6.517h1.026c1.056,0,1.582,0.441,1.582,1.322C9.75,8.26,9.601,8.614,9.3,8.9"/><path clip-path="url(#SVGID_2_)" fill="#FFFFFF" d="M0.654,4.92c0-1.979,1.301-3.661,3.092-4.238V0.003C1.59,0.602,0,2.577,0,4.92C0,7.265,1.59,9.24,3.746,9.838v-0.68C1.955,8.582,0.654,6.901,0.654,4.92"/><path clip-path="url(#SVGID_2_)" fill="#FFFFFF" d="M2.656,4.92c0-1.162,0.814-2.132,1.901-2.383V1.872C3.107,2.133,2.002,3.397,2.002,4.92S3.107,7.708,4.558,7.97V7.304C3.47,7.053,2.656,6.083,2.656,4.92"/></g></g></svg></a>				<a href="http://twitter.com/aspnet" class="twitter" title="Twitter"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 15 12.233" enable-background="new 0 0 15 12.233" xml:space="preserve"><path fill="#FFFFFF" d="M15,1.469c-0.287,0.116-0.576,0.21-0.865,0.282c-0.287,0.072-0.59,0.137-0.906,0.194c0.316-0.201,0.59-0.446,0.82-0.735c0.231-0.288,0.418-0.604,0.563-0.951c-0.318,0.145-0.643,0.289-0.973,0.432c-0.332,0.145-0.684,0.246-1.059,0.303c-0.26-0.317-0.576-0.562-0.951-0.735C11.253,0.086,10.835,0,10.375,0C9.539,0,8.819,0.302,8.213,0.908c-0.605,0.605-0.908,1.34-0.908,2.204c0,0.173,0.029,0.404,0.087,0.691C6.095,3.746,4.906,3.43,3.826,2.853c-1.082-0.576-2.011-1.34-2.789-2.291c-0.259,0.49-0.388,1.009-0.388,1.556c0,1.153,0.446,2.004,1.34,2.55c-0.52,0-0.98-0.114-1.384-0.345v0.043c0,0.75,0.23,1.405,0.692,1.966c0.461,0.563,1.037,0.916,1.729,1.06C2.91,7.421,2.787,7.443,2.658,7.457c-0.129,0.014-0.28,0.021-0.454,0.021c-0.115,0-0.288-0.028-0.518-0.086c0.172,0.605,0.518,1.109,1.037,1.512c0.519,0.404,1.124,0.621,1.816,0.648c-1.095,0.865-2.364,1.297-3.804,1.297H0c0.663,0.433,1.398,0.771,2.204,1.017c0.807,0.246,1.643,0.367,2.508,0.367c1.411,0,2.665-0.267,3.761-0.8c1.095-0.532,2.009-1.217,2.743-2.054c0.735-0.835,1.289-1.771,1.666-2.809c0.373-1.039,0.561-2.076,0.561-3.113V3.069c0.316-0.23,0.605-0.482,0.865-0.757C14.568,2.039,14.798,1.758,15,1.469"/></svg></a>				<a href="https://www.facebook.com/asp.net" class="facebook" title="Facebook"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 7.001 15" enable-background="new 0 0 7.001 15" xml:space="preserve"><g opacity="0.9"><g><defs><rect id="SVGID_1_" width="7.001" height="15"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><path clip-path="url(#SVGID_2_)" fill="#FFFFFF" d="M6.998,2.633C6.463,2.632,5.926,2.635,5.389,2.632C5.049,2.611,4.699,2.87,4.637,3.207C4.629,3.792,4.635,4.378,4.635,4.964c0.787,0.003,1.574-0.001,2.36,0.002C6.938,5.814,6.832,6.657,6.709,7.499C6.014,7.504,5.318,7.498,4.623,7.501c-0.006,2.5,0.004,5-0.004,7.5c-1.033,0.004-2.066-0.002-3.098,0.004c-0.02-2.5,0.002-5.002-0.011-7.502C1.007,7.498,0.503,7.505,0,7.499C0.001,6.657,0,5.817,0,4.977c0.504-0.006,1.007,0.002,1.51-0.003c0.016-0.817-0.015-1.635,0.017-2.452c0.05-0.646,0.296-1.297,0.78-1.744c0.585-0.557,1.416-0.745,2.2-0.769c0.83-0.007,1.66-0.003,2.49-0.002C7.002,0.881,7.002,1.757,6.998,2.633"/></g></g></svg></a>				<a href="http://blogs.msdn.com/b/webdev/" class="blog">Blog</a>				 <div class="nav-user logged-out">    <a href="javascript:;" class="profile"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 25 25" enable-background="new 0 0 25 25" xml:space="preserve"><path fill="#ffffff" d="M5.163,21.259h1.333c0-3.311,2.694-6.005,6.004-6.005c3.31,0,6.003,2.694,6.003,6.005h1.334c0-3.064-1.891-5.693-4.564-6.79c1.535-0.938,2.564-2.624,2.564-4.55c0-2.942-2.395-5.336-5.337-5.336c-2.943,0-5.337,2.394-5.337,5.336c0,1.926,1.03,3.611,2.564,4.55C7.054,15.565,5.163,18.194,5.163,21.259 M8.498,9.919c0-2.207,1.795-4.002,4.003-4.002c2.206,0,4.001,1.795,4.001,4.002c0,2.206-1.795,4.002-4.001,4.002C10.293,13.921,8.498,12.125,8.498,9.919"/><circle fill="none" stroke="#ffffff" stroke-width="1.483" stroke-miterlimit="10" cx="12.5" cy="12.5" r="10.873"/></svg></a>	<div class="common-dropdown collapse">		<a href="//forums.asp.net/login/RedirectToLogin?ReturnUrl=%2ft%2f2068893.aspx%3fCasting%2bBack%2bSession%2bVariables%2bC%2bAsp%2bnet%2bMultiple%2bCheckbox%2bList">Sign in</a>        <a href="//forums.asp.net/login/RedirectToCreateUser?ReturnUrl=%2ft%2f2068893.aspx%3fCasting%2bBack%2bSession%2bVariables%2bC%2bAsp%2bnet%2bMultiple%2bCheckbox%2bList">Join</a>	</div></div>				<div class="search-form">					<input name="searchterm" type="text" class="search-input" placeholder="Search" />					<a href="javascript:;" class="search-submit"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 18 18" enable-background="new 0 0 18 18" xml:space="preserve"><path fill="#FFFFFF" d="M5.89,11.594c1.32,0,2.532-0.461,3.49-1.229l7.267,7.268c0.122,0.119,0.28,0.182,0.439,0.182s0.319-0.063,0.44-0.182c0.242-0.244,0.242-0.639,0-0.881L10.26,9.486c0.767-0.958,1.229-2.17,1.229-3.49c0-3.087-2.511-5.598-5.599-5.598c-3.087,0-5.598,2.511-5.598,5.598S2.803,11.594,5.89,11.594 M5.89,1.642c2.401,0,4.354,1.953,4.354,4.354S8.291,10.35,5.89,10.35c-2.4,0-4.354-1.953-4.354-4.354S3.489,1.642,5.89,1.642"/></svg></a>				</div>									</div>        </header>		<nav class="clearfix nav-main">			<div>				<a href="javascript:;" class="icon"></a>				<a href="//www.asp.net/" data-s-object-id="navlogo">ASP.NET</a>								<ul>					<li><a href="//www.asp.net">Home</a></li>										<li><a href="//www.asp.net/get-started">Get Started</a></li>					<li class="nav-learn"><a href="javascript:;">Learn</a><div class="common-dropdown collapse">	<div class="col">	  <h2>Web Applications</h2>	  <ul>		<li><a href="//www.asp.net/web-forms" data-s-object-id="learn">Web Forms</a></li>		<li><a href="//www.asp.net/mvc" data-s-object-id="learn">MVC</a></li>		<li><a href="//www.asp.net/web-pages" data-s-object-id="learn">Web Pages/Razor</a></li>		<li><a href="//www.asp.net/mobile" data-s-object-id="learn">Mobile</a></li>		<li><a href="//www.asp.net/single-page-application" data-s-object-id="learn">Single Page Apps</a></li>	  </ul>	</div>	<div class="col">	  <h2>Web Services / API's</h2>		<ul>		  <li><a href="//www.asp.net/web-api" data-s-object-id="learn">Web API</a></li>		</ul>	</div>	<div class="col">	  <h2>Real Time</h2>		<ul>		  <li><a href="//www.asp.net/signalr" data-s-object-id="learn">SignalR</a></li>		</ul>	</div>	<div class="col">	  <h2>Data Access</h2>		<ul>		  <li><a href="//www.asp.net/entity-framework" data-s-object-id="learn">Entity Framework</a></li>		</ul>	</div>	<div class="col">	  <h2>More</h2>		<ul>                         <li><a href="http://blogs.msdn.com/b/webdev/archive/2015/07/20/announcing-asp-net-4-6-and-asp-net-5-beta-5-in-visual-studio-2015-release.aspx" data-s-object-id="learn">Latest Release (2013.5)</a></li>                         <li><a href="//www.asp.net/aspnet" data-s-object-id="learn">Common ASP.NET Features</a></li>                         <li><a href="//www.asp.net/identity" data-s-object-id="learn">Security / Identity</a></li>                         <li><a href="//www.asp.net/visual-studio" data-s-object-id="learn">Tooling/IDE</a></li>                         <li><a href="//www.asp.net/aspnet/overview/deployment" data-s-object-id="learn">Deployment</a></li>                         <li><a href="//www.asp.net/vnext" data-s-object-id="learn">ASP.NET 5 (RC1)</a></li>						 </ul>	</div>  </div></li>					<li><a href="//www.asp.net/hosting">Hosting</a></li>					<li><a href="//www.asp.net/downloads">Downloads</a></li>					<li class="nav-community"><a href="javascript:;">Community</a><div class="common-dropdown collapse">			<div class="col">				<ul>					<li><a href="//www.asp.net/community" data-s-object-id="community">Overview</a></li>					<li><a href="//www.asp.net/community/spotlight" data-s-object-id="community">Community Spotlight</a></li>					<li><a href="//www.asp.net/community/articles" data-s-object-id="community">Articles of the Day</a></li>					<li><a href="//www.asp.net/whats-new" data-s-object-id="community">What's new</a></li>					<li><a href="//weblogs.asp.net/" data-s-object-id="community">Community Blogs</a></li>					<li><a href="//www.asp.net/community/microsoft-blogs" data-s-object-id="community">ASP.NET Team</a></li>					<li><a href="//www.asp.net/community/events" data-s-object-id="community">Events</a></li>				</ul>			</div>			<div class="col">				<ul>					<li><a href="//www.asp.net/community/recognition/hall-of-fame" data-s-object-id="community">Hall Of Fame</a></li>					<li><a href="http://code.msdn.microsoft.com/site/search?f%5B0%5D.Type=Technology&amp;f%5B0%5D.Value=ASP.NET&amp;sortBy=Date" data-s-object-id="community">MSDN Samples</a></li>					<li><a href="//forums.asp.net/" data-s-object-id="community">Forums</a></li>				</ul>			</div>			<div class="col">				<ul>					<li><a href="//www.asp.net/community/websites" data-s-object-id="community">Community Websites</a></li>					<li><a href="//www.asp.net/community/support" data-s-object-id="community">Community Support</a></li>				</ul>			</div>			<div class="col">				<ul>					<li><a href="https://live.asp.net/" data-s-object-id="community">ASP.NET Community Standup</a></li>				</ul>			</div>		</div></li>					<li><a href="//forums.asp.net" class="selected">Forums</a></li>					<li><a href="//www.asp.net/contact-us">Help</a></li>				</ul>			</div>        </nav>        <div class="header-breadcrumb-content">    <a href="//www.asp.net" title="Home">Home</a><span>/</span><a href="//forums.asp.net" title='ASP.NET Forums'>ASP.NET Forums</a><span>/</span><a href="/default.aspx/7?General+ASP+NET" title="General ASP.NET">General ASP.NET</a><span>/</span><a href="/22.aspx/1?State+Management" title="State Management">State Management</a><span>/</span><a href="/t/2068893.aspx?Casting+Back+Session+Variables+C+Asp+net+Multiple+Checkbox+List" title="Casting Back Session Variables C# Asp.net Multiple Checkbox List">Casting Back Session Variables C# Asp.net Multiple Checkbox List</a></div>		<div class="content-wrapper" id="content-wrapper">				<h1 id="threadstatus" class="icon-answered indent no-border" title="Casting Back Session Variables C# Asp.net Multiple Checkbox List">Casting Back Session Variables C# Asp.net Multiple Checkbox List		<span class="print-only-inline">[Answered]</span><a class="icon-rss" href="/t/rss/2068893" title="Feed - Casting Back Session Variables C# Asp.net Multiple Checkbox List">RSS</a>		</h1>		<div class="comment-count">			<h2>9 replies        				            			</h2>							<p><a href="/p/2068893/5979382.aspx?Re+Casting+Back+Session+Variables+C+Asp+net+Multiple+Checkbox+List">Last post</a> Oct 22, 2015 09:44 AM by <a href="/members/coderPoet.aspx" title="View coderPoet's profile">coderPoet</a></p>									</div>		<div class="pagination-thread first"><a href="/t/prev/2068893" >‹ Previous Thread</a><span class="separator">&#124;</span><a href="/t/next/2068893" >Next Thread ›</a></div>		<div class="clear"></div>		<div class="share">			<a href="javascript:window.print();" class="share-print" title="Print">Print</a>			<a href="javascript:;" class="common-btn share-btn">Share</a>				<div class="share-details" style="display:none;">				<ul>					<li><a href="https://twitter.com/share?url=http%3a%2f%2fforums.asp.net%2ft%2f2068893.aspx%3fCasting%2bBack%2bSession%2bVariables%2bC%2bAsp%2bnet%2bMultiple%2bCheckbox%2bList" class="twitter" title="Twitter"><span></span>Twitter</a></li>					<li><a href="http://www.facebook.com/sharer.php?u=http%3a%2f%2fforums.asp.net%2ft%2f2068893.aspx%3fCasting%2bBack%2bSession%2bVariables%2bC%2bAsp%2bnet%2bMultiple%2bCheckbox%2bList" class="facebook" title="Facebook"><span></span>Facebook</a></li>					<li><a href="mailto:?body=http%3a%2f%2fforums.asp.net%2ft%2f2068893.aspx%3fCasting%2bBack%2bSession%2bVariables%2bC%2bAsp%2bnet%2bMultiple%2bCheckbox%2bList" class="email" title="Email"><span></span>Email</a></li>				</ul>			</div>		</div>		<div class="module-nav-container">	<div class="module-nav nav-base">		<h2>Shortcuts</h2>		<ul>			<li><a href="/f/active/22/1/20">Active Threads</a></li>			<li><a href="/f/unanswered/22/1/20">Unanswered Threads</a></li>			<li><a href="/f/unresolved/22/1/20">Unresolved Threads</a></li>									<li><a href="//www.asp.net/community/support ">Support Options</a></li>			<li><a href="/search">Advanced Search</a></li>		</ul>	</div>	</div>		<ul class="comment-list">			        <li class="comment-wrap thread-starter  " data-postid="5969657" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5969657">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="coderPoet" href="/members/coderPoet.aspx"><img class="post-thumb" src="/avatar/coderPoet.jpg?forceidenticon=False&dt=635852390400000000" alt="coderPoet" title="coderPoet"/></a><h3 class="post-title"><a title="coderPoet" href="/members/coderPoet.aspx">coderPoet</a></h3><p class="post-level">Member</p><div class="post-rating Member" title="13 Points"></div><p class="post-points">13 Points</p><p class="post-count"><a href="/search?q=authors%3A%28coderPoet%29&amp;s=postDate&amp;d=desc">24 Posts</a></p>    </div>    <div class="comment-right-col">                              <a name="5969657"></a>              <h3>Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 24, 2015 11:36 AM<span class="print-only-inline"><span class="separator">&#124;</span>coderPoet</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5969657.aspx" title="Permalink to this post">LINK</a></span>        <div><p>So I have a search page with multiple checkboxlist, 7 in total, a button to submit the search as well as a button to toggle view of all the checkbox list search parameters.</p><p>Each checkbox list has multiple checkbox options. See procedure below to understand the flow and what I am trying to accomplish.</p><p>Pages Involved:</p><p>Page A = Search Page</p><p>Page B = Equipment Details Page</p><p>Procedure:</p><ol><li><p>Users navigates to search page (Page A)</p></li><li><p>Users deselects appropriate checkboxe(s) within respective checkbox list (Check boxes are already checked upon arriving at page as set by the code &quot;selected=&quot;True&quot;&quot;)</p></li><li><p>User clicks search button</p></li><li><p>A list of items is displayed on the same page</p></li><li><p>user clicks particular item/part they are then forwarded to the parts detail page. (Page B)</p></li></ol><p>Dilemma: When a user clicks the back button after visiting the parts details page they have to, again, deselect the checkboxe(s) they want to exclude from the search results and hit the search button again to generate the desired results.</p><p>What I would like to happen is when a user clicks the back button (this is a simple button I created with an event handler) they'll be redirected back to the search page (Page A) with their selection of checkboxes auto populated and the results shown.</p><p>I have tried to implement a solution using session variables. I believe I am saving the variables (checkboxes) inside of a session variable , correctly although it is only targeting one checkbox list at the moment.</p><p>I am unsure how to complete the solution. I understand I need to cast the list back on it self, but I am unsure how to do that and where I should place the code.</p><p>Any help is welcomed. Please treat me like a noob when explaining things as I want to be sure I gain the most knowledge from this post in hopes others will be able to use this post as a reference.</p><p>Here is a sample of 1 of the checkbox list on search page (Page A):</p><pre class="prettyprint ">&lt;asp:CheckBoxList ID=&quot;Equipment_Fields&quot; runat=&quot;server&quot;&gt;                                    &lt;asp:ListItem Text=&quot;TMS #&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Assigned To&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Issued To&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Department&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Manufacturer&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Model #&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Serial #&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Description&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Characteristics&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Calibration Procedure&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Calibration Standard&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Calibration Interval&quot; Selected=&quot;True&quot; /&gt;                                    &lt;asp:ListItem Text=&quot;Required Accuracy&quot; Selected=&quot;True&quot; /&gt;                                &lt;/asp:CheckBoxList&gt;</pre><p>My Code Declaring Session Variable on search page code behind (Page A) Does this look correct? It is supposed to add any checkbox which is selected to a session variable.</p><p>(There is also a bunch of other code within the submit button function which builds a query via stringbuilder, not sure if that has anything to do with what I am trying to accomplish.):</p><pre class="prettyprint ">protected void Submit_Click(object sender, EventArgs e) {List&lt;string&gt; selections = new List&lt;string&gt;();    foreach (ListItem listItem in Equipment_Fields.Items)    {        if (listItem.Selected)        {            selections.Add(listItem.Value);        }    }    Session[&quot;selections&quot;] = selections; }</pre><p>On Page B----Button Event<br><br></p><p>This is not working as when I click the button it just refreshes the current page without redirecting the user to the referring page. The prevPage function just stores the referrer url.&nbsp;</p><pre class="prettyprint ">            if (Session[&quot;selections&quot;] != null)            {                List&lt;ListItem&gt; name = (List&lt;ListItem&gt;)Session[&quot;selections&quot;];                foreach (ListItem li in name)                {                    Response.Write(li);                }                Response.Redirect(prevPage);            }</pre><p></p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	    </li>        <li class="comment-wrap   " data-postid="5969662" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5969662">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="Rion Williams" href="/members/Rion%20Williams.aspx"><img class="post-thumb" src="/avatar/Rion%20Williams.jpg?forceidenticon=False&dt=635852390400000000" alt="Rion Williams" title="Rion Williams"/></a><h3 class="post-title"><a title="Rion Williams" href="/members/Rion%20Williams.aspx">Rion William...</a></h3><p class="post-level">All-Star</p><div class="post-rating All-Star" title="99950 Points"></div><p class="post-points">99950 Points</p><p class="post-count"><a href="/search?q=authors%3A%28Rion%20Williams%29&amp;s=postDate&amp;d=desc">17628 Posts</a></p><p class="post-badge mvp" title="Microsoft MVP for ASP.NET">MVP</p>    </div>    <div class="comment-right-col">                              <a name="5969662"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 24, 2015 11:45 AM<span class="print-only-inline"><span class="separator">&#124;</span>Rion Williams</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5969662.aspx" title="Permalink to this post">LINK</a></span>        <div><p>Since you are currently storing your collection as a List&lt;string&gt; in your Session, you would need to cast it the same way to retrieve it :</p><pre class="prettyprint ">// Storing your SessionSession[&quot;selections&quot;] = selections;// Retrieving your Sessionif(Session[&quot;selections&quot;] != null){     var selections = Session[&quot;selections&quot;] as List&lt;string&gt;;}</pre><p>Then you could simply loop through it using a foreach loop :</p><pre class="prettyprint ">foreach(var selection in selections){     // Do something here.}</pre><p></p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	            <div class="comment-signiture">            <a href="http://rion.io" rel="nofollow">Blog</a> | <a href="https://goo.gl/qeRUWR" rel="nofollow">Twitter</a> | <a href="http://goo.gl/aDQ27d" rel="nofollow">Stack Overflow</a> |&nbsp;<a href="http://goo.gl/gAAdFC" rel="nofollow">LinkedIn</a> |&nbsp;<a href="https://goo.gl/4DYwiS" rel="nofollow">Hackhands</a>        </div>    </li>        <li class="comment-wrap thread-starter  " data-postid="5969667" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5969667">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="coderPoet" href="/members/coderPoet.aspx"><img class="post-thumb" src="/avatar/coderPoet.jpg?forceidenticon=False&dt=635852390400000000" alt="coderPoet" title="coderPoet"/></a><h3 class="post-title"><a title="coderPoet" href="/members/coderPoet.aspx">coderPoet</a></h3><p class="post-level">Member</p><div class="post-rating Member" title="13 Points"></div><p class="post-points">13 Points</p><p class="post-count"><a href="/search?q=authors%3A%28coderPoet%29&amp;s=postDate&amp;d=desc">24 Posts</a></p>    </div>    <div class="comment-right-col">                              <a name="5969667"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 24, 2015 11:53 AM<span class="print-only-inline"><span class="separator">&#124;</span>coderPoet</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5969667.aspx" title="Permalink to this post">LINK</a></span>        <div><p>Hi Rion,&nbsp;</p><p>Thank You for answering my post. Your feeback is greatly appreciate.&nbsp;</p><p>However I am unsure how to complete the solutions. Specifically for the foreach section. What should I put in this section to ensure the checkboxes are checked. Sorry I am completely new to C# and Asp.Net.&nbsp;</p><p>Am I supposed to do something like this.&nbsp;</p><pre class="prettyprint "> if (Session[&quot;selections&quot;] != null)        {            var selections = Session[&quot;selections&quot;] as List&lt;string&gt;;            foreach (var selection in selections)            {                // Do something here.            }        }</pre><p></p><p></p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	    </li>        <li class="comment-wrap   " data-postid="5969681" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5969681">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="Rion Williams" href="/members/Rion%20Williams.aspx"><img class="post-thumb" src="/avatar/Rion%20Williams.jpg?forceidenticon=False&dt=635852390400000000" alt="Rion Williams" title="Rion Williams"/></a><h3 class="post-title"><a title="Rion Williams" href="/members/Rion%20Williams.aspx">Rion William...</a></h3><p class="post-level">All-Star</p><div class="post-rating All-Star" title="99950 Points"></div><p class="post-points">99950 Points</p><p class="post-count"><a href="/search?q=authors%3A%28Rion%20Williams%29&amp;s=postDate&amp;d=desc">17628 Posts</a></p><p class="post-badge mvp" title="Microsoft MVP for ASP.NET">MVP</p>    </div>    <div class="comment-right-col">                              <a name="5969681"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 24, 2015 12:37 PM<span class="print-only-inline"><span class="separator">&#124;</span>Rion Williams</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5969681.aspx" title="Permalink to this post">LINK</a></span>        <div><p>It depends on how you are actually wanting to output them.</p><p>Based on your previously provided logic, it looks like only the checkboxes that were actually selected are going to be stored within your Session, so you know that those will be checked. So as mentioned in your dilemma:&nbsp;</p><p></p><blockquote><span class="icon-blockquote"></span><h4>coderPoet</h4>Dilemma: When a user clicks the back button after visiting the parts details page they have to, again, deselect the checkboxe(s) they want to exclude from the search results and hit the search button again to generate the desired results.</blockquote><p></p><p>You would basically check for the Session value within your Page_Load event and iterate through your CheckBox list and check the values that were present in the Session :</p><pre class="prettyprint ">if(Session[&quot;selection&quot;] != null){    // Get your selected items    var selectedItems = Session[&quot;selection&quot;] as List&lt;string&gt;;    foreach (ListItem listItem in Equipment_Fields.Items)    {        // Select this item if it is present        listItem.Selected = selectedItems.Contains(listItem.Value))    }}</pre><p></p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	            <div class="comment-signiture">            <a href="http://rion.io" rel="nofollow">Blog</a> | <a href="https://goo.gl/qeRUWR" rel="nofollow">Twitter</a> | <a href="http://goo.gl/aDQ27d" rel="nofollow">Stack Overflow</a> |&nbsp;<a href="http://goo.gl/gAAdFC" rel="nofollow">LinkedIn</a> |&nbsp;<a href="https://goo.gl/4DYwiS" rel="nofollow">Hackhands</a>        </div>    </li>        <li class="comment-wrap thread-starter  " data-postid="5969695" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5969695">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="coderPoet" href="/members/coderPoet.aspx"><img class="post-thumb" src="/avatar/coderPoet.jpg?forceidenticon=False&dt=635852390400000000" alt="coderPoet" title="coderPoet"/></a><h3 class="post-title"><a title="coderPoet" href="/members/coderPoet.aspx">coderPoet</a></h3><p class="post-level">Member</p><div class="post-rating Member" title="13 Points"></div><p class="post-points">13 Points</p><p class="post-count"><a href="/search?q=authors%3A%28coderPoet%29&amp;s=postDate&amp;d=desc">24 Posts</a></p>    </div>    <div class="comment-right-col">                              <a name="5969695"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 24, 2015 01:26 PM<span class="print-only-inline"><span class="separator">&#124;</span>coderPoet</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5969695.aspx" title="Permalink to this post">LINK</a></span>        <div><p>I added your code to the page _load event and it still isn't working. Here is the entire code behind page, just so you can see how I have it On page A: Also Should all of the code go in the code behind on Page A or am I supposed to put it in the page_load event for page B:</p><pre class="prettyprint ">using System;using System.Collections.Generic;using System.IO;using System.Linq;using System.Text;using System.Web.UI.WebControls;using NPOI.HSSF.UserModel;using NPOI.HSSF.Util;using NPOI.SS.UserModel;using Telerik.Web.UI;using System.Data;using System.Web.UI;public partial class AdvancedSearch : System.Web.UI.Page{    protected void Page_Load(object sender, EventArgs e)    {        if (Session[&quot;selection&quot;] != null)        {            // Get your selected items            var selectedItems = Session[&quot;selection&quot;] as List&lt;string&gt;;            foreach (ListItem listItem in Equipment_Fields.Items)            {                // Select this item if it is present                listItem.Selected = selectedItems.Contains(listItem.Value);            }        }        if (!IsPostBack)        {            Master.SelItem = &quot;Advanced Search&quot;;            Master.SetTitle(&quot;Advanced Search&quot;);            Results.Visible = true;        }    }    protected void Submit_Click(object sender, EventArgs e)    {        List&lt;string&gt; selections = new List&lt;string&gt;();        foreach (ListItem listItem in Equipment_Fields.Items)        {            if (listItem.Selected)            {                selections.Add(listItem.Value);            }        }        Session[&quot;selections&quot;] = selections;               string searchValue = SearchValue.Text.Trim();        string errorMessage = string.Empty;        Results.Visible = false;        bool searchEquipment = GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Fields) &#43; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Type) &#43; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Status) &gt; 0;        bool searchHistory = GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(History_Fields) &#43; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(History_Status) &gt; 0;        bool searchOTR = GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(OTR_Fields) &#43; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(OTR_Classification) &gt; 0;        if (searchEquipment == false &amp;&amp; searchHistory == false &amp;&amp; searchOTR == false)        {            errorMessage &#43;= &quot;There's no field to be searched selected.&lt;br/&gt;&quot;;        }        if (searchEquipment)        {            if (GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Type) == 0)            {                errorMessage &#43;= &quot;There's no &lt;strong&gt;Equipment Type&lt;/strong&gt; to be searched selected.&lt;br/&gt;&quot;;            }            if (GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Status) == 0)            {                errorMessage &#43;= &quot;There's no &lt;strong&gt;Equipment Status&lt;/strong&gt; to be searched selected.&lt;br/&gt;&quot;;            }        }        if (searchHistory)        {            if (GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(History_Status) == 0)            {                errorMessage &#43;= &quot;There's no &lt;strong&gt;History Status&lt;/strong&gt; to be searched selected.&lt;br/&gt;&quot;;            }        }        if (searchOTR)        {            if (GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(OTR_Classification) == 0)            {                errorMessage &#43;= &quot;There's no &lt;strong&gt;OTR Classification&lt;/strong&gt; to be searched selected.&lt;br/&gt;&quot;;            }        }        if (!string.IsNullOrEmpty(errorMessage))        {            GiTools.Telerik.RadWindow.RadError(Master.WindowManager_Error, errorMessage);            ShowHideSearchOptions.Text = &quot;Hide Search Options&quot;;            Search_Options_Container.Style.Add(&quot;display&quot;, &quot;&quot;);        }        else        {            Results.Visible = true;            Results.Rebind();            ShowHideSearchOptions.Text = &quot;Show Search Options&quot;;            Search_Options_Container.Style.Add(&quot;display&quot;, &quot;none&quot;);        }        if (Filter_By_Date.Checked)        {            Date_Start.Enabled = Date_End.Enabled = true;        }        else        {            Date_Start.Enabled = Date_End.Enabled = false;        }    }    private string GetSearchQuery()    {        string searchValue = SearchValue.Text.Trim();        StringBuilder queryString = new StringBuilder();        bool searchEquipment = GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Fields) &#43; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Type) &#43; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Status) &gt; 0;        bool searchHistory = GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(History_Fields) &#43; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(History_Status) &gt; 0;        bool searchOTR = GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(OTR_Fields) &#43; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(OTR_Classification) &gt; 0;        if (searchEquipment)        {            queryString.Append(&quot;SELECT equipment.equipment_id, equipment.equipment_id AS id, CAST(equipment.tms_num as varchar(30)) AS id_label, LEN(equipment.tms_num) AS id_label_length, 'Equipment' AS type, equipment.description AS description FROM equipment WHERE 1=1&quot;);            if (!string.IsNullOrEmpty(searchValue) &amp;&amp; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Fields) &gt; 0)            {                StringBuilder whereClause = new StringBuilder(&quot; AND (1=2&quot;);                if (Equipment_Fields.Items.FindByValue(&quot;TMS #&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.tms_num LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Assigned To&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.assigned_to LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Issued To&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.issued_to LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Department&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.department LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Manufacturer&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.manufacturer LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Model #&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.model_num LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Serial #&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.serial_num LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Description&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.description LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Characteristics&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.characteristics LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Calibration Procedure&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.calibration_procedure LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Calibration Standard&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.calibration_standard LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Calibration Interval&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.calibration_interval LIKE '{0}'&quot;, searchValue));                if (Equipment_Fields.Items.FindByValue(&quot;Required Accuracy&quot;).Selected) whereClause.Append(string.Format(&quot; OR equipment.required_accuracy LIKE '{0}'&quot;, searchValue));                whereClause.Append(&quot;)&quot;);                queryString.Append(whereClause.ToString());            }            if (GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Type) == 1)            {                queryString.Append(string.Format(&quot; AND equipment.type = {0}&quot;, Equipment_Type.SelectedValue));            }            if (GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(Equipment_Status) &lt; Equipment_Status.Items.Count)            {                queryString.Append(string.Format(&quot; AND equipment.status IN ({0})&quot;, string.Join(&quot;,&quot;, GiTools.UI.Controls.CheckBoxList.GetCheckedItemsValues(Equipment_Status).ToArray())));            }            if (!Equipment_Status_Obsolete.Items.FindByValue(&quot;Include Obsolete&quot;).Selected)            {                queryString.Append(&quot; AND equipment.is_obsolete = 0&quot;);            }            if (Filter_By_Date.Checked)            {                if (Date_Start.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND equipment.date_submitted &gt;= '&quot; &#43; Date_Start.SelectedDate.Value.Date &#43; &quot;'&quot;);                }                if (Date_End.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND equipment.date_submitted &lt;= '&quot; &#43; Date_End.SelectedDate.Value.Date.AddDays(1).AddMilliseconds(-1) &#43; &quot;'&quot;);                }                if (Date_Start.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND equipment.date_submitted &gt;= '&quot; &#43; Date_Start.SelectedDate.Value.Date &#43; &quot;'&quot;);                }                if (Date_End.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND equipment.date_submitted &lt;= '&quot; &#43; Date_End.SelectedDate.Value.Date.AddDays(1).AddMilliseconds(-1) &#43; &quot;'&quot;);                }            }        }        if (searchHistory)        {            if (queryString.Length &gt; 0)            {                queryString.Append(&quot; UNION ALL &quot;);            }            queryString.Append(&quot;SELECT equipment.equipment_id, history_id AS id, CAST(history_id as varchar(30)) AS id_label, LEN(history_id) AS id_label_length, 'History' AS type, 'TMS # ' &#43; equipment.tms_num &#43; ': ' &#43; history.remarks AS description FROM history INNER JOIN equipment ON history.equipment_id = equipment.equipment_id WHERE 1=1&quot;);            if (!string.IsNullOrEmpty(searchValue) &amp;&amp; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(History_Fields) &gt; 0)            {                StringBuilder whereClause = new StringBuilder(&quot; AND (1=2&quot;);                if (History_Fields.Items.FindByValue(&quot;ID Number&quot;).Selected) whereClause.Append(string.Format(&quot; OR history.history_id LIKE '{0}'&quot;, searchValue));                if (History_Fields.Items.FindByValue(&quot;Inspector&quot;).Selected) whereClause.Append(string.Format(&quot; OR history.inspector LIKE '{0}'&quot;, searchValue));                if (History_Fields.Items.FindByValue(&quot;Inspector E-mail&quot;).Selected) whereClause.Append(string.Format(&quot; OR history.inspector_email LIKE '{0}'&quot;, searchValue));                if (History_Fields.Items.FindByValue(&quot;Remarks&quot;).Selected) whereClause.Append(string.Format(&quot; OR history.remarks LIKE '{0}'&quot;, searchValue));                whereClause.Append(&quot;)&quot;);                queryString.Append(whereClause.ToString());            }            if (GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(History_Status) &lt; History_Status.Items.Count)            {                queryString.Append(string.Format(&quot; AND history.status IN ({0})&quot;, string.Join(&quot;,&quot;, GiTools.UI.Controls.CheckBoxList.GetCheckedItemsValues(History_Status).ToArray())));            }            if (Filter_By_Date.Checked)            {                if (Date_Start.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND history.date_submitted &gt;= '&quot; &#43; Date_Start.SelectedDate.Value.Date &#43; &quot;'&quot;);                }                if (Date_End.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND history.date_submitted &lt;= '&quot; &#43; Date_End.SelectedDate.Value.Date.AddDays(1).AddMilliseconds(-1) &#43; &quot;'&quot;);                }                if (Date_Start.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND history.date_submitted &gt;= '&quot; &#43; Date_Start.SelectedDate.Value.Date &#43; &quot;'&quot;);                }                if (Date_End.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND history.date_submitted &lt;= '&quot; &#43; Date_End.SelectedDate.Value.Date.AddDays(1).AddMilliseconds(-1) &#43; &quot;'&quot;);                }            }        }        if (searchOTR)        {            if (queryString.Length &gt; 0)            {                queryString.Append(&quot; UNION ALL &quot;);            }            queryString.Append(&quot;SELECT equipment.equipment_id, otr_id AS id, CAST(otr_id as varchar(30)) AS id_label, LEN(otr_id) AS id_label_length, 'OTR' AS type, 'TMS # ' &#43; equipment.tms_num &#43; ': ' &#43; otr.submitter_comments AS description FROM otr INNER JOIN equipment ON otr.equipment_id = equipment.equipment_id WHERE 1=1&quot;);            if (!string.IsNullOrEmpty(searchValue) &amp;&amp; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(OTR_Fields) &gt; 0)            {                StringBuilder whereClause = new StringBuilder(&quot; AND (1=2&quot;);                if (OTR_Fields.Items.FindByValue(&quot;ID Number&quot;).Selected) whereClause.Append(string.Format(&quot; OR otr.otr_id LIKE '{0}'&quot;, searchValue));                if (OTR_Fields.Items.FindByValue(&quot;Submitter&quot;).Selected) whereClause.Append(string.Format(&quot; OR otr.submitted_by LIKE '{0}'&quot;, searchValue));                if (OTR_Fields.Items.FindByValue(&quot;Submitter E-mail&quot;).Selected) whereClause.Append(string.Format(&quot; OR otr.submitted_by_email LIKE '{0}'&quot;, searchValue));                if (OTR_Fields.Items.FindByValue(&quot;Actual accuracy&quot;).Selected) whereClause.Append(string.Format(&quot; OR otr.actual_accuracy LIKE '{0}'&quot;, searchValue));                whereClause.Append(&quot;)&quot;);                queryString.Append(whereClause.ToString());            }            if (searchOTR &amp;&amp; GiTools.UI.Controls.CheckBoxList.GetCheckedItemsCount(OTR_Classification) == 1)            {                queryString.Append(string.Format(&quot; AND otr.classification = {0}&quot;, OTR_Classification.SelectedValue));            }            if (Filter_By_Date.Checked)            {                if (Date_Start.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND otr.date_submitted &gt;= '&quot; &#43; Date_Start.SelectedDate.Value.Date &#43; &quot;'&quot;);                }                if (Date_End.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND otr.date_submitted &lt;= '&quot; &#43; Date_End.SelectedDate.Value.Date.AddDays(1).AddMilliseconds(-1) &#43; &quot;'&quot;);                }                if (Date_Start.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND otr.date_submitted &gt;= '&quot; &#43; Date_Start.SelectedDate.Value.Date &#43; &quot;'&quot;);                }                if (Date_End.SelectedDate.HasValue)                {                    queryString.Append(&quot; AND otr.date_submitted &lt;= '&quot; &#43; Date_End.SelectedDate.Value.Date.AddDays(1).AddMilliseconds(-1) &#43; &quot;'&quot;);                }            }        }        queryString.Append(&quot; ORDER BY type, id_label_length, id_label&quot;);        return queryString.ToString();    }    protected void Results_NeedDataSource(object sender, GridNeedDataSourceEventArgs e)    {        Results.DataSource = GiTools.Database.MsSql.SqlToDataTable(Common.ConnectionString, GetSearchQuery());    }    protected void Results_ItemDataBound(object sender, GridItemEventArgs e)    {        if (e.Item is GridPagerItem)        {            GridPagerItem pager = (GridPagerItem)e.Item;            Label lbl = (Label)pager.FindControl(&quot;ChangePageSizeLabel&quot;);            lbl.Visible = false;            RadComboBox combo = (RadComboBox)pager.FindControl(&quot;PageSizeComboBox&quot;);            combo.Visible = false;        }        if (e.Item is GridDataItem)        {            string type = DataBinder.Eval(e.Item.DataItem, &quot;type&quot;, string.Empty);            if (type == &quot;OTR&quot;)            {                e.Item.Cells[2].Text = string.Format(&quot;&lt;a href='OtrView.aspx?id={0}'&gt;{0}&lt;/a&gt;&quot;, DataBinder.Eval(e.Item.DataItem, &quot;id&quot;, string.Empty));            }            else if (type == &quot;History&quot;)            {                e.Item.Cells[2].Text = string.Format(&quot;&lt;a href='EquipmentView.aspx?id={0}'&gt;{1}&lt;/a&gt;&quot;, DataBinder.Eval(e.Item.DataItem, &quot;equipment_id&quot;, string.Empty), DataBinder.Eval(e.Item.DataItem, &quot;id&quot;, string.Empty));            }            else if (type == &quot;Equipment&quot;)            {                e.Item.Cells[2].Text = string.Format(&quot;&lt;a href='EquipmentView.aspx?id={0}'&gt;{1}&lt;/a&gt;&quot;, DataBinder.Eval(e.Item.DataItem, &quot;equipment_id&quot;, string.Empty), DataBinder.Eval(e.Item.DataItem, &quot;id_label&quot;, string.Empty));            }        }    }    protected void DataDump_Click(object sender, EventArgs e)    {        DataClassesDataContext dc = new DataClassesDataContext();        DataTable dt = GiTools.Database.MsSql.SqlToDataTable(Common.ConnectionString, GetSearchQuery());        HSSFWorkbook hssfworkbook = new HSSFWorkbook();        HSSFSheet sheet = (HSSFSheet)hssfworkbook.CreateSheet(&quot;Sheet1&quot;);        int rowIndex = 0;        int columnIndex = 0;        #region add table headers        HSSFFont boldFont = (HSSFFont)hssfworkbook.CreateFont();        boldFont.Color = HSSFColor.BLACK.index;        boldFont.Boldweight = (short)FontBoldWeight.BOLD;        HSSFCellStyle header_Bold = (HSSFCellStyle)hssfworkbook.CreateCellStyle();        header_Bold.SetFont(boldFont);        HSSFRow dataRow = (HSSFRow)sheet.CreateRow(rowIndex);        dataRow.CreateCell(columnIndex&#43;&#43;).SetCellValue(&quot;ID #&quot;);        dataRow.CreateCell(columnIndex&#43;&#43;).SetCellValue(&quot;Type&quot;);        dataRow.CreateCell(columnIndex&#43;&#43;).SetCellValue(&quot;Description&quot;);        for (int i = 0; i &lt; sheet.GetRow(0).LastCellNum; i&#43;&#43;)        {            HSSFCell cell = (HSSFCell)sheet.GetRow(0).GetCell(i);            cell.CellStyle = header_Bold;        }        #endregion        #region add data        foreach (DataRow row in dt.Rows)        {            rowIndex&#43;&#43;;            columnIndex = 0;            dataRow = (HSSFRow)sheet.CreateRow(rowIndex);            dataRow.CreateCell(columnIndex&#43;&#43;).SetCellValue(GiTools.DataTypes.String.TryParse(row[1]));            dataRow.CreateCell(columnIndex&#43;&#43;).SetCellValue(GiTools.DataTypes.String.TryParse(row[2]));            dataRow.CreateCell(columnIndex&#43;&#43;).SetCellValue(GiTools.DataTypes.String.TryParse(row[3]));        }        #endregion        // autosize all columns        for (int i = 0; i &lt; sheet.GetRow(0).LastCellNum; i&#43;&#43;)        {            if (i != 12 &amp;&amp; i != 23)            {                sheet.AutoSizeColumn(i);            }        }        //Write the stream data of workbook to the root directory        string fileName = &quot;~/Downloads/Advanced-Search-Result.xls&quot;;        FileStream file = new FileStream(Server.MapPath(fileName), FileMode.Create);        hssfworkbook.Write(file);        file.Close();        GiTools.UI.Page.DownloadFile(this, fileName, true);    }}</pre><p></p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	    </li>        <li class="comment-wrap  answered " data-postid="5971013" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5971013">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="Klein Zhang" href="/members/Klein%20Zhang.aspx"><img class="post-thumb" src="/avatar/Klein%20Zhang.jpg?forceidenticon=False&dt=635852390400000000" alt="Klein Zhang" title="Klein Zhang"/></a><h3 class="post-title"><a title="Klein Zhang" href="/members/Klein%20Zhang.aspx">Klein Zhang</a></h3><p class="post-level">Contributor</p><div class="post-rating Contributor" title="3900 Points"></div><p class="post-points">3900 Points</p><p class="post-count"><a href="/search?q=authors%3A%28Klein%20Zhang%29&amp;s=postDate&amp;d=desc">689 Posts</a></p>    </div>    <div class="comment-right-col">                              <a name="5971013"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 29, 2015 03:35 AM<span class="print-only-inline"><span class="separator">&#124;</span>Klein Zhang</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5971013.aspx" title="Permalink to this post">LINK</a></span>        <div><p>Hi coderPoet</p><p></p><blockquote><span class="icon-blockquote"></span><h4>coderPoet</h4>if (<strong>Session[&quot;selection&quot;]</strong> != null) { // Get your selected items var selectedItems = Session[&quot;selection&quot;] as List&lt;string&gt;; foreach (ListItem listItem in Equipment_Fields.Items) { // Select this item if it is present listItem.Selected = selectedItems.Contains(listItem.Value); } } </blockquote><p></p><p></p><blockquote><span class="icon-blockquote"></span><h4>coderPoet</h4>protected void Submit_Click(object sender, EventArgs e) { List&lt;string&gt; selections = new List&lt;string&gt;(); foreach (ListItem listItem in Equipment_Fields.Items) { if (listItem.Selected) { selections.Add(listItem.Value); } }<strong>Session[&quot;selections&quot;]</strong> = selections; </blockquote><p></p><p>According to your code, I find the session name is different, so you should modify your code to ensure that the name of the session is the same.</p><p>Best Regards,</p><p>Klein zhang</p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	    </li>        <li class="comment-wrap thread-starter  " data-postid="5971292" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5971292">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="coderPoet" href="/members/coderPoet.aspx"><img class="post-thumb" src="/avatar/coderPoet.jpg?forceidenticon=False&dt=635852390400000000" alt="coderPoet" title="coderPoet"/></a><h3 class="post-title"><a title="coderPoet" href="/members/coderPoet.aspx">coderPoet</a></h3><p class="post-level">Member</p><div class="post-rating Member" title="13 Points"></div><p class="post-points">13 Points</p><p class="post-count"><a href="/search?q=authors%3A%28coderPoet%29&amp;s=postDate&amp;d=desc">24 Posts</a></p>    </div>    <div class="comment-right-col">                              <a name="5971292"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 29, 2015 04:39 PM<span class="print-only-inline"><span class="separator">&#124;</span>coderPoet</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5971292.aspx" title="Permalink to this post">LINK</a></span>        <div><p>Thank You very much. I'm not sure how I let that slip by me. I appreciate you taking the time out to correct my error.</p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	    </li>        <li class="comment-wrap thread-starter  " data-postid="5971294" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5971294">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="coderPoet" href="/members/coderPoet.aspx"><img class="post-thumb" src="/avatar/coderPoet.jpg?forceidenticon=False&dt=635852390400000000" alt="coderPoet" title="coderPoet"/></a><h3 class="post-title"><a title="coderPoet" href="/members/coderPoet.aspx">coderPoet</a></h3><p class="post-level">Member</p><div class="post-rating Member" title="13 Points"></div><p class="post-points">13 Points</p><p class="post-count"><a href="/search?q=authors%3A%28coderPoet%29&amp;s=postDate&amp;d=desc">24 Posts</a></p>    </div>    <div class="comment-right-col">                              <a name="5971294"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 29, 2015 04:42 PM<span class="print-only-inline"><span class="separator">&#124;</span>coderPoet</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5971294.aspx" title="Permalink to this post">LINK</a></span>        <div><p>One other question, I have about 7 checkbox list, how&nbsp;do I include the other 6 checkbox list inside the session variable?</p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	    </li>        <li class="comment-wrap  answered " data-postid="5971302" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5971302">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="Rion Williams" href="/members/Rion%20Williams.aspx"><img class="post-thumb" src="/avatar/Rion%20Williams.jpg?forceidenticon=False&dt=635852390400000000" alt="Rion Williams" title="Rion Williams"/></a><h3 class="post-title"><a title="Rion Williams" href="/members/Rion%20Williams.aspx">Rion William...</a></h3><p class="post-level">All-Star</p><div class="post-rating All-Star" title="99950 Points"></div><p class="post-points">99950 Points</p><p class="post-count"><a href="/search?q=authors%3A%28Rion%20Williams%29&amp;s=postDate&amp;d=desc">17628 Posts</a></p><p class="post-badge mvp" title="Microsoft MVP for ASP.NET">MVP</p>    </div>    <div class="comment-right-col">                              <a name="5971302"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Sep 29, 2015 05:29 PM<span class="print-only-inline"><span class="separator">&#124;</span>Rion Williams</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5971302.aspx" title="Permalink to this post">LINK</a></span>        <div><p></p><blockquote><span class="icon-blockquote"></span><h4>coderPoet</h4><p></p><p>One other question, I have about 7 checkbox list, how&nbsp;do I include the other 6 checkbox list inside the session variable?</p><p></p></blockquote><p></p><p>You could store them the same way, although the easiest way to handle this would be to use some type of Dictionary so that you could associate the appropriate ID of your CheckBoxList with the List itself :</p><pre class="prettyprint ">// Build your DictionaryDictionary&lt;string,CheckBoxList&gt; checkBoxLists = new Dictionary&lt;string,CheckBoxList&gt;();// Add each of your CheckBoxes along with their IDs to the DictionarycheckBoxLists.Add(YourCheckBoxList.ClientID, YourCheckBoxList);// Repeat for each of your CheckBoxes here// Store the Dictionary in the SessionSession[&quot;selections&quot;] = checkBoxLists;</pre><p>Then when you return to the Page, you would likely want to do the following :</p><ol><li>Check to ensure your Session value exists. </li><li>If it does, loop through all of your existing CheckBoxList controls on your current page.</li><li>Within the loop, if one of them exists in the Session, then check the appropriate elements</li></ol><p>You can see an example of what this might look like below :</p><pre class="prettyprint ">// Check if your Session value existsif(Session[&quot;selections&quot;] != null){     // If it does, cast it     var checkBoxes = Session[&quot;selections&quot;] as Dictionary&lt;string,CheckBoxList&gt;;     // If the cast was successful, iterate through all of your current CheckBoxList elements     foreach (CheckBoxList cbl in Controls.OfType&lt;CheckBoxList&gt;())     {          // If the current check box list is in your Session, update it's checked values          if(checkBoxes.ContainsKey(cbl.ClientID))          {               // It does exist, so update the items accordingly               for(var c = 0; c &lt; cbl.Items.Count(); c&#43;&#43;)               {                    // Update this item to match the one from the Session                    cbl.Items[c].Selected = checkBoxes[cbl.ClientID].Items[c].Selected;               }          }         }}</pre><p>Does that make sense?</p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	            <div class="comment-signiture">            <a href="http://rion.io" rel="nofollow">Blog</a> | <a href="https://goo.gl/qeRUWR" rel="nofollow">Twitter</a> | <a href="http://goo.gl/aDQ27d" rel="nofollow">Stack Overflow</a> |&nbsp;<a href="http://goo.gl/gAAdFC" rel="nofollow">LinkedIn</a> |&nbsp;<a href="https://goo.gl/4DYwiS" rel="nofollow">Hackhands</a>        </div>    </li>        <li class="comment-wrap thread-starter  " data-postid="5979382" title="">    <ul class="comment-nav">                                            <li><a href="/login/RedirectToLogin?ReturnUrl=/post/set/22/2068893/5979382">Reply</a></li>                </ul>    <div class="comment-left-col">        <a title="coderPoet" href="/members/coderPoet.aspx"><img class="post-thumb" src="/avatar/coderPoet.jpg?forceidenticon=False&dt=635852390400000000" alt="coderPoet" title="coderPoet"/></a><h3 class="post-title"><a title="coderPoet" href="/members/coderPoet.aspx">coderPoet</a></h3><p class="post-level">Member</p><div class="post-rating Member" title="13 Points"></div><p class="post-points">13 Points</p><p class="post-count"><a href="/search?q=authors%3A%28coderPoet%29&amp;s=postDate&amp;d=desc">24 Posts</a></p>    </div>    <div class="comment-right-col">                              <a name="5979382"></a>              <h3>Re: Casting Back Session Variables C# Asp.net Multiple Checkbox List</h3>        <p class="date">Oct 22, 2015 09:44 AM<span class="print-only-inline"><span class="separator">&#124;</span>coderPoet</span><span class="print-no responsive-no"><span class="separator">&#124;</span><a href="/post/5979382.aspx" title="Permalink to this post">LINK</a></span>        <div><p>Sorry for the delayed response, it's been really busy lately. Your code makes perfect sense. I really appreciate all your help. &nbsp;Thank you for the programming lesson. Maybe you can help me with something else. I'll start a new thread.</p></div>		                <p class="tag-list detail">                            <span alt="asp.net" title="asp.net">asp.net</span>                            <span alt="Session" title="Session">Session</span>                            <span alt="csharp" title="csharp">csharp</span>                    </p>                     </div>	    </li>		</ul>				<div class="clear"></div>				<div class="pagination-thread"><a href="/t/prev/2068893" >‹ Previous Thread</a><span class="separator">&#124;</span><a href="/t/next/2068893" >Next Thread ›</a></div>	</div>					<div id="BottomAd" data-adtypeid="4" data-adzoneid="0" class="ad-728x90" style="width: 728px;"></div>							<footer>			<div class="footer"><div class="clear"></div><ul class="footer-menu"><li class="block"><h2>This site is managed for Microsoft by Neudesic, LLC. | &copy; 2015 Microsoft. All rights reserved.</h2></li><li><a href="//www.asp.net/privacy" data-s-object-id="footer">Privacy Statement</a><span class="separator">|</span></li><li><a href="//www.asp.net/terms-of-use" data-s-object-id="footer">Terms of Use</a><span class="separator">|</span></li><li><a href="//www.asp.net/contact-us" data-s-object-id="footer">Contact Us</a><span class="separator">|</span></li><li><a href="http://www.neudesicmediagroup.com/?site=asp#contactus" data-s-object-id="footer">Advertise With Us</a><span class="separator">|</span></li><li><a href="http://www.umbraco.org" data-s-object-id="footer">CMS by Umbraco</a><span class="separator">|</span></li><li><a href="http://azure.microsoft.com/">Hosted on Microsoft Azure</a></li></ul><ul class="footer-menu last"><li class="block"><h2><a class="logo-microsoft" title="Microsoft" href="http://microsoft.com" data-s-object-id="footer"><svg version="1.1" id="svg5358" xmlns:svg="http://www.w3.org/2000/svg"	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 220.654 220.695" enable-background="new 0 0 220.654 220.695" xml:space="preserve"><path id="path5058" fill="#F1511B" d="M104.867,104.867H0V0h104.867V104.867z"/><path id="path5060" fill="#80CC28" d="M220.654,104.867H115.787V0h104.867V104.867z"/><path id="path5062" fill="#00ADEF" d="M104.865,220.695H0V115.828h104.865V220.695z"/><path id="path5064" fill="#FBBC09" d="M220.654,220.695H115.787V115.828h104.867V220.695z"/></svg></a></h2></li><li><a href="http://aspnet.uservoice.com" data-s-object-id="footer">Feedback on ASP.NET</a><span class="separator">|</span></li><li><a href="https://connect.microsoft.com/VisualStudio" data-s-object-id="footer">File Bugs</a><span class="separator">|</span></li><li><a href="//www.asp.net/support">Support Lifecycle</a></li></ul></div>		</footer>    </div>    <script type="text/javascript">var omni_guid="bf0fab18-4c07-47e7-94b3-784524033c7c"; var searchDomain = "//www.asp.net";</script>		<script type="text/javascript">var omni_forumid = 22;</script>		<script type="text/javascript" src="//forums-asp.azureedge.net/resources/v-2015-12-04-001/scripts/scripts-bundle/cheetah-main.js"></script>            	            <script type="text/javascript" src="//forums-asp.azureedge.net/resources/v-2015-12-04-001/scripts/scripts-bundle/prettify.js"></script>        	<script type="text/javascript">        $(document).ready(function()        {                     //-- Scroll post route into view            var postMatches = window.location.href.match("/p/[0-9]+/([0-9]+)");            if (postMatches != null && postMatches.length > 1) {                var elem = $('a[name="' + postMatches[1] + '"]');                if (elem != null && elem.offset() != null) {                    $(document).scrollTop(elem.offset().top);                }            }			            $(".share-btn").click(function () {            	$(".share-details").slideToggle("fast");            });                    });    </script>	 <script type="text/javascript">    $(document).ready(function () {        				    });    </script>    	<script type="text/javascript">if ((Math.floor(Math.random() * 100)) < 5) { $.getScript('/v-2015-12-04-001/resources/scripts/scripts-bundle/survey.js'); }</script>    <noscript><a href="http://www.omniture.com" title="Web Analytics"><img src="//msstonojsaspnet.112.2O7.net/b/ss/msstonojsaspnet/1/H.20.2--NS/0" height="1" width="1" border="0" alt="" /></a></noscript>	<noscript><img alt="" width="1" height="1" src="//c.microsoft.com/trans_pixel.aspx"/></noscript>		<script>		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');		ga('create', 'UA-61337531-1', 'auto');		ga('send', 'pageview');	</script>		<div class="modal-cover" style="display:none;"></div></body></html>