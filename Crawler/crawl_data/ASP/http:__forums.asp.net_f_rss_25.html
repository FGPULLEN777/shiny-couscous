<?xml version="1.0" encoding="utf-8"?><rss xmlns:a10="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Security</title><link>http://forums.asp.net/25.aspx/1?Security</link><description>All about ASP.NET security (authentication, authorization, membership, roles, etc.) and the Login controls.</description><lastBuildDate>Tue, 01 Dec 2015 11:49:37 -0800</lastBuildDate><a10:id>urn:uuid:00000000-0000-0000-0000-000000000025</a10:id><a10:link rel="self" type="application/rss+xml" href="http://forums.asp.net/f/rss/25" /><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005998757</guid><link>http://forums.asp.net/p/2079721/5998757.aspx?testing</link><title>testing</title><description>&lt;p&gt;test&lt;/p&gt;</description><a10:updated>2015-12-09T12:41:03-08:00</a10:updated><pubDate>2015-12-09T12:41:03.63-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005998704</guid><link>http://forums.asp.net/p/2079700/5998704.aspx?Asp+Net+Mvc+Social+Accounts+Integration+in+existing+application</link><title>Asp.Net Mvc: Social Accounts Integration in existing application</title><description>&lt;p&gt;I am working on some Asp.Net Mvc applications since last 4 years. I have used Entity Framework Code Fist approach in these application. So there are multiple databases which contains lot of tables.&lt;/p&gt;&lt;p&gt;Now I want to integrate social websites login and register. I have searched on it and I got two methods to implement it. First method my using custom code like facebook login etc and second method is here&amp;nbsp;&lt;a href="http://www.asp.net/mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on" rel="nofollow"&gt;MVC 5 App with Facebook..&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Second method looks pretty easy but there are lot of complex things in it. I am using custom User table and there is a different user registration process like&lt;/p&gt;&lt;p&gt;Register -&amp;gt; Email Verfication --&amp;gt; Admin approval&lt;/p&gt;&lt;p&gt;My Problem:&lt;/p&gt;&lt;p&gt;I can't modify my user table on this stage so What will be better way to accomplish it. I think above link demo will be better options of new web applications. Please share your experience regards this problem.&lt;/p&gt;&lt;p&gt;Thank you&lt;/p&gt;</description><a10:updated>2015-12-09T10:09:21-08:00</a10:updated><pubDate>2015-12-09T10:09:21.81-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005998329</guid><link>http://forums.asp.net/p/2079588/5998329.aspx?Deny+Verbs+in+Request+Filtering+vs+trace+enabled+false+</link><title>Deny Verbs in Request Filtering vs trace enabled="false"</title><description>&lt;p&gt;Are they both the same?&amp;nbsp;&lt;/p&gt;&lt;p&gt;How are they different?&lt;/p&gt;&lt;p&gt;Which one should I use to stop HTTP TRACE?&lt;/p&gt;</description><a10:updated>2015-12-08T09:44:24-08:00</a10:updated><pubDate>2015-12-08T09:44:24.85-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005998460</guid><link>http://forums.asp.net/p/2079634/5998460.aspx?How+to+create+log+in+with+access+codes+for+my+website+</link><title>How to create log in with access codes for my website </title><description>&lt;p&gt;Hello,&lt;/p&gt;&lt;p&gt;I have created a website for a music class and I want to force users first to buy the assignments workbook of the class which will include an access code to enter the website material and content.&lt;/p&gt;&lt;p&gt;&lt;span style="text-decoration:underline"&gt;some of the features I want are:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1) only the chapters' material menu item to be password restricted (not the forum or the store page where students can order the book&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2) The access code to be valid for a semester (4 months)&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3) the same access code not to be able to be used at the same time by more than 1 different user&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4) Faculty to be able to login for free (there are a few so maybe based on their e mail address to be recognized as free users?)&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;I am so lost...... how to do that. Is it too hard? easy, medium or very high difficulty?&lt;/p&gt;&lt;p&gt;any tips how to start? if I assign the job to a third party how much is a reasonable compensation?&lt;/p&gt;&lt;p&gt;Anyone willing to do this and get compensated?&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description><a10:updated>2015-12-08T15:39:55-08:00</a10:updated><pubDate>2015-12-08T15:39:55.687-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005996385</guid><link>http://forums.asp.net/p/2079033/5996385.aspx?Callbacks+in+CreatePerOwinContext+never+called+what+s+wrong+</link><title>Callbacks in CreatePerOwinContext() never called - what's wrong?</title><description>&lt;p&gt;In Startup.cs I am using Lambdas to create an instance of my&amp;nbsp;&lt;samp&gt;UserManager&lt;/samp&gt;&amp;nbsp;class:&lt;/p&gt;&lt;blockquote&gt;app.CreatePerOwinContext(() =&amp;gt; new IdentityContext(&amp;quot;AuthDatabase&amp;quot;));&lt;br&gt;app.CreatePerOwinContext((IdentityFactoryOptions&amp;lt;UserManager&amp;gt; options, IOwinContext owin) =&amp;gt; new UserManager(new UserStore&amp;lt;User, Role, Guid, UserLogin, UserRole, UserClaim&amp;gt;(owin.Get&amp;lt;IdentityContext&amp;gt;()), options.DataProtectionProvider));&lt;/blockquote&gt;&lt;p&gt;In one of my controllers I'm using a Lambda to retrieve the&amp;nbsp;&lt;samp&gt;UserManager&lt;/samp&gt;&amp;nbsp;instance:&lt;/p&gt;&lt;blockquote&gt;private UserManager UserManager =&amp;gt; _userMan ?? (_userMan = Request.GetOwinContext().GetUserManager&amp;lt;UserManager&amp;gt;());&lt;/blockquote&gt;&lt;p&gt;But this line doesn't execute above Lambdas. Instead&amp;nbsp;&lt;samp&gt;GetUserManager()&lt;/samp&gt;&amp;nbsp;always returns&amp;nbsp;&lt;samp&gt;null&lt;/samp&gt;.&lt;/p&gt;&lt;p&gt;What's wrong with above code? Why are the callbacks never called?&lt;/p&gt;</description><a10:updated>2015-12-01T19:39:58-08:00</a10:updated><pubDate>2015-12-01T19:39:58.19-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005996779</guid><link>http://forums.asp.net/p/2079147/5996779.aspx?Coding+ASP+NET+4+5+Template+to+Use+Email+Confirmation+and+Passwird+Reset+features+</link><title>Coding ASP.NET 4.5 Template to Use Email Confirmation and Passwird Reset features.</title><description>&lt;p&gt;Thanks for reading.&amp;nbsp;&amp;nbsp;My usual preamble...&amp;nbsp; I am trying to develop a web application using asp.net 4.5.&amp;nbsp; I'm running into problems because I am not familiar with the technology and much of the terminology and such.&amp;nbsp; I have been programming ASP.NET for a total of about 2 months.&lt;/p&gt;&lt;p&gt;My Development Environment:&amp;nbsp;&amp;nbsp; Windows 7 Home Premium - SP1;&amp;nbsp; Microsoft .Net Framework Version 4.6.00081;&amp;nbsp;&amp;nbsp; MS Visual Studio Community 2015;&amp;nbsp; SQL Server Database;&amp;nbsp; C#;&amp;nbsp; NuGet [Microsoft.AspNet.Identity.EntityFramework], [Microsoft.Owin.Host.SystemWeb], [Microsoft.AspNet.Identity,Owin], [Microsoft.Owin], [Microsoft,Owin.Security.OAuth], [Microsoft,Owin.Security], [Microsoft,Owin.Security.Cookies], [Microsoft.AspNet.Identity.Core], [Microsoft.AspNet.Web.Optimation], [Microsoft,Owin.Security.Google], [Microsoft,Owin.Security.Facebook], [Microsoft,Owin.Security.MicrosoftAccount], [Microsoft,Owin.Security.Twitter]...&amp;nbsp; (&amp;lt;-- These packages are all installed along with others)&lt;/p&gt;&lt;p&gt;My Caveats:&amp;nbsp; I am trying to develop everything locally - without using Azure or any cloud services.&amp;nbsp; Just my local servers.&amp;nbsp; Because I need a mail server in order to send out the user password confirmations, I have installed hMailServer on my development machine.&lt;/p&gt;&lt;p&gt;The Meat of my problem...&amp;nbsp;&amp;nbsp; I have been developing pages - that is going along well.&amp;nbsp; But when my app project was first created, the templates created the Registration and Login pages, but the email confirmation and password reset pages (although I can see them) are not invoked (configured for use).&amp;nbsp; I&amp;nbsp;find links&amp;nbsp;within the web.config file that&amp;nbsp;reference&amp;nbsp;how to complete the set up of the confirmation and reset, but they all refer to using Azure and SendGrid (which I do not have installed), there&amp;nbsp;seems to be no other&amp;nbsp;general documentation for how to use a service such as the hMailServer mail server I have installed.&amp;nbsp; Yes, I have searched the hmailserver forum for how to integrate it with asp.net 4.5, but I am not seeing what I am looking for.&amp;nbsp;&amp;nbsp; I would be happy to replace hMail with any&amp;nbsp;other mail server, but&amp;nbsp;again, I am looking for something on my own&amp;nbsp;server that I can fully control.&lt;/p&gt;&lt;p&gt;Can anyone here point to&amp;nbsp;a website, video,&amp;nbsp;or book&amp;nbsp;that provides step-by-step detailed instruction as to how to get the&amp;nbsp;confirmation&amp;nbsp;and reset pages to configure?&amp;nbsp;&amp;nbsp;In addition to what I can&amp;nbsp;find (&lt;span style="text-decoration:underline"&gt;sendgrid and azure specific&lt;/span&gt;), the problem I have is that documentation is very general and apparently written for people who&amp;nbsp;have a lot of experience with ASP, C# and windows development. For example,&amp;nbsp;they will say, enter this code...&amp;nbsp;but not say where (in what files), or how that code&amp;nbsp;is called or accessed, etc...&amp;nbsp;another problem I&amp;nbsp;have with much of the documentation is that it is not for version 4.5 and therefore the code, pages, and other objects it references is not germane&amp;nbsp;to the template I am using.&lt;/p&gt;&lt;p&gt;So, again, if anyone have a link for absolute beginners that can explain how to get the&amp;nbsp;mail based confirmation and password rest pages coded, I would appreciate the help.&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Please stay tuned... I think I have figured this out....&amp;nbsp; Will test and report back.&lt;/strong&gt;&lt;/p&gt;</description><a10:updated>2015-12-02T19:37:39-08:00</a10:updated><pubDate>2015-12-02T19:37:39.523-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005998099</guid><link>http://forums.asp.net/p/2079532/5998099.aspx?Pass+Through+Authentication+Stuck+</link><title>Pass Through Authentication - Stuck!</title><description>&lt;p&gt;I'm aware that this may not be ideal for this forum but I have tried everywhere else to attempt to get some assistance with no luck including the IIS forum which was dismal at best.&amp;nbsp; This application is done, I'm trying to deploy and the only thing between me and being finished is getting the pass through authentication working between the web server app and the sql box where the data lives.&amp;nbsp; While this works perfectly from my laptop where the development was done and the development web server lives when the site is promoted to the production web server the problems described below take place.&amp;nbsp;&amp;nbsp; Your assistance would be greatly appreciated.&lt;/p&gt;&lt;p&gt;Setup:&lt;/p&gt;&lt;pre class="prettyprint "&gt;Windows Server 2008 R2 Ent IIS 7.5 .NET 4.6 (.NET version identical to that which was used in development)SQL 2008 (deployed on a remote host on the same network on the same Windows domain&lt;/pre&gt;&lt;p&gt;The app is a simple SQL front end that provides users who have access rights to the SQL box an organized process for reviewing, creating, editing, and deleting records in the database contained on the SQL box.&amp;nbsp; Because the users have valid Active Directory credentials that allow them access to the SQL we are using pass through authentication to access the SQL server and bring move the data back and forth.&lt;/p&gt;&lt;p&gt;The pertinent configuration information&amp;nbsp; (that I can think of at the moment and if you need more I'm happy to get it for you) would include:&lt;/p&gt;&lt;pre class="prettyprint "&gt;Just inside &amp;lt;system.web&amp;gt; I've put &amp;lt;customErrors mode=&amp;quot;off&amp;quot; /&amp;gt; so I can see what is going on with the page.&lt;/pre&gt;&lt;p&gt;Other settings in web config include:&lt;/p&gt;&lt;pre class="prettyprint "&gt;Set &amp;lt;authentication mode=&amp;quot;Windows&amp;quot; /&amp;gt;I've added &amp;lt;identity impersonate=&amp;quot;true&amp;quot; /&amp;gt;.I've set &amp;lt;sessionsate mode=&amp;quot;InProc&amp;quot; useHostingIdentity=&amp;quot;false&amp;quot; /&amp;gt;&lt;/pre&gt;&lt;p&gt;Under Authentication both Anonymous Authentication and ASP.NET Impersonation are Enabled.&lt;/p&gt;&lt;p&gt;Issue:&lt;/p&gt;&lt;p&gt;When you go into the website it attempts to connect to the SQL server and the SQL Server responds with a failed login showing that the wrong credentials have been passed it.&lt;/p&gt;&lt;p style="padding-left:30px"&gt;Login failed for user 'NT AUTHORITY\ANONYMOUS LOGON'.&lt;/p&gt;&lt;p&gt;Now I have tried other configuration but the above is the most consistent recommendation I have found thus far, however I can't find anything specific to more recent versions of .NET or SQL 2008 or IIS 7.5 that would provide me updated information or validation that my procedures are accurate or corrected.&lt;/p&gt;&lt;p&gt;The project is past due and I need any assistance I can get to get past this issue. Thanks in advance!&lt;/p&gt;&lt;p&gt;Regards,&lt;/p&gt;&lt;p&gt;Kip...&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description><a10:updated>2015-12-07T18:52:54-08:00</a10:updated><pubDate>2015-12-07T18:52:54.517-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005998082</guid><link>http://forums.asp.net/p/2079529/5998082.aspx?Tracking+authenticated+user+activity+on+website</link><title>Tracking authenticated user activity on website</title><description>&lt;p&gt;I order to shore up our website security, I need to be able to track when a user requests a page within the application. &amp;nbsp;If the FormsAuthentication ticket is still valid, I want to update the database with the current DateTime value in record relating to this user. &amp;nbsp;However, after thinking for this a bit, I don't want to do this for every request since I run the risk of bringing the application to its knees. &amp;nbsp;I want to do it only for page requests, not images, CSS or JS files.&lt;/p&gt;&lt;p&gt;What application event handler (global.asax.cs) would be best to put this code? &amp;nbsp;I only need to do this for authenticated users. &amp;nbsp;I am thinking PostAuthenticateRequest might be a good place to do this, but again I also want to do it only for page requests.&lt;/p&gt;&lt;p&gt;Any tips? &amp;nbsp;Surely I can't be the only person to try this.&lt;/p&gt;&lt;p&gt;Thanks&lt;/p&gt;</description><a10:updated>2015-12-07T17:59:37-08:00</a10:updated><pubDate>2015-12-07T17:59:37.747-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005997613</guid><link>http://forums.asp.net/p/2079367/5997613.aspx?FormsAuthentication+migrate+to+Identity+2+0</link><title>FormsAuthentication migrate to Identity 2.0</title><description>&lt;p&gt;Hi ,&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;I ' m newbie on owin and identity .&amp;nbsp;&lt;/p&gt;&lt;p&gt;Previously, i use IIS pipeline &amp;#43;&amp;nbsp;FormsAuthentication &amp;#43; EF for my project.&amp;nbsp;&lt;/p&gt;&lt;p&gt;I already create module and all Function for Register,confirm,Login... and more..&lt;/p&gt;&lt;p&gt;Now i hope i can migrate to Owin and identity (leave always from IIS pipeline and FormsAuthentication&amp;nbsp;) .&amp;nbsp;&lt;/p&gt;&lt;p&gt;But when i saw the API and structure of Identity, most of the function i done before. So i don want to change my code and my&amp;nbsp;structure.&amp;nbsp;&lt;/p&gt;&lt;p&gt;so , i hope somebody can tell me what is the &amp;quot;replacement&amp;quot; for some&amp;nbsp;FormsAuthentication code.&lt;/p&gt;&lt;p&gt;1.&amp;nbsp;new FormsAuthenticationTicket , &amp;nbsp;( identity still using ticket ? )&lt;/p&gt;&lt;p&gt;2.&amp;nbsp;FormsAuthentication.Encrypt and&amp;nbsp;Decrypt&lt;/p&gt;&lt;p&gt;3.HttpApplication.AddOnAuthenticateRequestAsync&lt;/p&gt;&lt;p&gt;I only use this 3 method for my previous project.&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;Regards,&lt;/p&gt;&lt;p&gt;Yam&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description><a10:updated>2015-12-05T10:24:43-08:00</a10:updated><pubDate>2015-12-05T10:24:43.93-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005997655</guid><link>http://forums.asp.net/p/2079392/5997655.aspx?Adding+to+User+Properties+Using+DB+First+asp+net+webforms</link><title>Adding to User Properties Using DB First asp.net webforms</title><description>&lt;p&gt;I am currnelty using form tickets to save my user session but i need to pass extra user data so i can access at code time like User.&lt;/p&gt;&lt;pre class="prettyprint "&gt;                UserData userData = new UserData                {                    fullName = _loginUser.firstName,                    userName = _loginUser.LoweredUserName,                    userId = _loginUser.UserId                };                string[] roles = new string[3];                if (_loginUser.canAdd == true)                    roles[0] = &amp;quot;canAdd&amp;quot;;                if (_loginUser.canDelete == true)                    roles[1] = &amp;quot;canDelete&amp;quot;;                if (_loginUser.canEdit == true)                    roles[2] = &amp;quot;canEdit&amp;quot;;                string _roles = String.Join(&amp;quot;,&amp;quot;, roles);                FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(                  1,                                     // ticket version                  _loginUser.UserName,                              // authenticated username                  DateTime.Now,                          // issueDate                  DateTime.Now.AddMinutes(30),           // expiryDate                   chkRememberMe.Checked,                          // true to persist across browser sessions                  _roles,                 // can be used to store additional user data                  FormsAuthentication.FormsCookiePath);  // the path for the cookie           &lt;/pre&gt;&lt;p&gt;Obv I am using the forms identy to read the vairables but what I want to no is how do i add my own. I want to add like player id and few other things that make up the players profile that i need be able to access at page level I am using masterpages.&lt;/p&gt;</description><a10:updated>2015-12-05T18:49:29-08:00</a10:updated><pubDate>2015-12-05T18:49:29.683-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005997243</guid><link>http://forums.asp.net/p/2079259/5997243.aspx?Integrating+Identity+Server+3+Openid+Connect+with+CMS+applications+like+Dotnetnuke+DNN+</link><title>Integrating Identity Server 3 Openid Connect with CMS applications like Dotnetnuke (DNN)</title><description>&lt;p&gt;I want to add Identity Server 3 v.2 to my DNN (Dotnetnuke) CMS portal so that I can have both external clients (native mobile, javascript SPA, native destkop)&lt;br&gt;my DNN Web application, access WebAPI hosted in my DNN Web application.&lt;/p&gt;&lt;p&gt;DNN has many extensibility points, the most important being a module which is of these types: Webforms, MVC or SPA.&lt;br&gt;DNN has its own user, roles store and permissions. Permissions to&amp;nbsp; actions in DNN web site like &amp;quot;view&amp;quot; and &amp;quot;edit&amp;quot;&amp;nbsp; modules&amp;nbsp; are assigned to roles.&lt;br&gt;&lt;br&gt;Permissions in DNN can be assigned to pages (which is the container of page modules), modules (can inherit permissions from the containing page or have their own) and to files and folders that are uploaded to DNN Web application.&lt;/p&gt;&lt;p&gt;DNN has its own login screen for local user store and can have external login providers such as Facebook, Google etc. through DNN's authentication provider extensibility.&lt;/p&gt;&lt;p&gt;I need to figure out how to integrate Identity Server with its:&lt;br&gt;- Authorize Endpoint&lt;br&gt;-Token Endpoint&lt;br&gt;-UserInfo Endpoint&lt;/p&gt;&lt;p&gt;IdentityServer.Samples has these clients:&lt;br&gt;-Code Flow Client Demo&lt;br&gt;-Implicit Client Demo&lt;br&gt;-Hybrid Native Client Demo&lt;br&gt;-Katana Hybrid Client Demo&lt;br&gt;-Client Credentials Flow Client&lt;br&gt;-Client Credentials Flow Client with Client Certificate&lt;br&gt;-Custom Grant Client&lt;br&gt;-Resource Owner Flow Client&lt;br&gt;&lt;br&gt;Which one of these clients are the best to use to integrate with DNN given my requirements? More then one?&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;DNN already has support for these providers:&lt;br&gt;-Facebook,&lt;br&gt;-Google,&lt;br&gt;-Live Authentication,&lt;br&gt;-Twitter and &lt;br&gt;-Library for DNN OAuth Server Support&lt;br&gt;&lt;br&gt;I would like to know if Identity Server belong to this list or does even more?&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;How would I go about preserving DNN login page and still use Identity Server Endpoints?&lt;br&gt;Will I need to add Identity Server as yet another Authentication provider?&lt;br&gt;&lt;br&gt;I would probably like to suppress consent screen for users accessing DNN WebApi using DNN Web application directly (with all types of modules),and use Identity Server's Endpoints from Native Windows and Mobile as well as clients coming from third party web sites or clients.&lt;br&gt;&lt;/p&gt;&lt;p&gt;Is there any Identity Server 3 integration with other open source CMS applications, like Orchard, Umbraco, Kentico etc .&lt;/p&gt;&lt;p&gt;I would appreciate if someone will outline steps and pseudo examples on how to achieve this integration.&lt;/p&gt;</description><a10:updated>2015-12-04T02:33:26-08:00</a10:updated><pubDate>2015-12-04T02:33:26.297-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005997134</guid><link>http://forums.asp.net/p/2079236/5997134.aspx?Getting+800a0046+error+on+IIS+on+Windows+8+1</link><title>Getting 800a0046 error on IIS? on Windows 8.1</title><description>&lt;p&gt;We have an in-house built COM object (not really needed any longer, but I don't want to re-write the code that uses it: classic ASP pages) that is hosted in Component Services running as a particular network user. Still works fine on our production and staging servers.&lt;/p&gt;&lt;p&gt;However, I can't seem to get it to work on my local dev machine (Windows 8.1). I keep getting a permission denied error when I try to create the object.&lt;/p&gt;&lt;p&gt;&lt;span size="2" face="Arial" style="font-family:Arial; font-size:small"&gt;Microsoft VBScript runtime&lt;/span&gt;&lt;span size="2" face="Arial" style="font-family:Arial; font-size:small"&gt;error '800a0046'&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span size="2" face="Arial" style="font-family:Arial; font-size:small"&gt;Permission denied: 'CreateObject'&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span size="2" face="Arial" style="font-family:Arial; font-size:small"&gt;/photogallery/editgallery.asp&lt;/span&gt;&lt;span size="2" face="Arial" style="font-family:Arial; font-size:small"&gt;, line 513&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span size="2" face="Arial" style="font-family:Arial; font-size:small"&gt;Like I said, the code works on our production server. So, I must have something configured wrong on my local machine.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span size="2" face="Arial" style="font-family:Arial; font-size:small"&gt;Any thoughts on what might be different about the configuration between Windows Server 2012 R2 and Windows 8.1 for Component Services configuration? Or what else it could be?&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span size="2" face="Arial" style="font-family:Arial; font-size:small"&gt;TIA,&lt;/span&gt;&lt;/p&gt;</description><a10:updated>2015-12-03T18:37:24-08:00</a10:updated><pubDate>2015-12-03T18:37:24.19-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005996222</guid><link>http://forums.asp.net/p/2078999/5996222.aspx?PDF+upload</link><title>PDF upload</title><description>&lt;p&gt;May I request some advice please.&lt;/p&gt;&lt;p&gt;I've been asked to create a website that will allow unauthorised/unknown users to apply for an account.&amp;nbsp; Prior to be being approved for an&amp;nbsp;account, they are required to submit&amp;nbsp;some supporting documents&amp;nbsp;in&amp;nbsp;PDF form as part of the registration form.&lt;/p&gt;&lt;p&gt;Do I want to allow an unknown user to submit anything to the site?&lt;/p&gt;&lt;p&gt;Any documents they upload would potentially contain their information - do they want to be loading it?&lt;/p&gt;&lt;p&gt;I would&amp;nbsp;rename the file as it is uploaded and remove it from the initial upload location as soon as they submit their request.&lt;/p&gt;&lt;p&gt;Is there a better way of doing this?&lt;/p&gt;&lt;p&gt;Thanks&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;</description><a10:updated>2015-12-01T11:49:37-08:00</a10:updated><pubDate>2015-12-01T11:49:37.967-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005996817</guid><link>http://forums.asp.net/p/2079155/5996817.aspx?Understand+the+token+of+OAuth</link><title>Understand the token of OAuth</title><description>&lt;p&gt;I am new to OAuth. I have a username and password stored in the database. If I pass them as the the parameters, I can retrieve the corresponding values and make a comparative.&lt;/p&gt;&lt;p&gt;But how about OAuth token. do we need to create the token first then store it in DB? My database doesn't have such a column.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description><a10:updated>2015-12-02T22:15:57-08:00</a10:updated><pubDate>2015-12-02T22:15:57.377-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005996783</guid><link>http://forums.asp.net/p/2079148/5996783.aspx?Question+on+Encrypting+a+message+using+Asymmetric+keys</link><title>Question on Encrypting a message using Asymmetric keys</title><description>&lt;p&gt;Please disregard this question.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;Thank you&lt;/p&gt;</description><a10:updated>2015-12-02T20:00:04-08:00</a10:updated><pubDate>2015-12-02T20:00:04.91-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005993098</guid><link>http://forums.asp.net/p/2078382/5993098.aspx?How+to+access+WebHDFS+REST+service+from+C+NET+client</link><title>How to access WebHDFS REST service from C# .NET client</title><description>&lt;p&gt;Client is a .NET web application hosted on Windows 2008 server trying to access WebHDFS service on Hadoop server (Unix) that is secured using Kerberos security.&lt;/p&gt;&lt;p&gt;.Net client code that used to work before Hadoop server was secured using Kerberos was:&lt;/p&gt;&lt;p&gt;-----------------Code----------------&lt;br&gt;requestUri = “http://&amp;lt;Unix Hadoop Server&amp;gt;:50070/webhdfs/v1/prod/****/****?op=LISTSTATUS”&lt;br&gt;HttpWebRequest http = (HttpWebRequest)WebRequest.Create(requestUri);&lt;br&gt;http.Timeout = timeout;&lt;br&gt;http.ContentType = contentType;&lt;/p&gt;&lt;p&gt;string responseData = string.Empty;&lt;br&gt;using (WebResponse response = http.GetResponse())&lt;br&gt;{&lt;br&gt;Stream stream = response.GetResponseStream();&lt;br&gt;StreamReader sr = new StreamReader(stream);&lt;br&gt;responseData = sr.ReadToEnd();&lt;br&gt;}&lt;/p&gt;&lt;p&gt;return responseData;&lt;/p&gt;&lt;p&gt;---------------Code End--------------&lt;/p&gt;&lt;p&gt;Also, earlier I used to access above WebHDFS url using browser, it would return data in JSON format as expected. However, after implementation of security it returns following error message:&lt;/p&gt;&lt;p&gt;---------------------Error------------------&lt;/p&gt;&lt;p&gt;HTTP ERROR 403&lt;br&gt;Problem accessing /webhdfs/v1/prod/****/****. Reason:&lt;br&gt;GSSException: Defective token detected (Mechanism level: GSSHeader did not find the right tag)&lt;/p&gt;&lt;p&gt;-------------------Error End----------------&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;Found few samples using kinit in Java, but I am trying to figure out a way to do it in .NET code.&lt;/p&gt;&lt;p&gt;Any sample code or guidance to right direction will be appreciated!&lt;/p&gt;</description><a10:updated>2015-11-23T23:31:16-08:00</a10:updated><pubDate>2015-11-23T23:31:16.913-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005994874</guid><link>http://forums.asp.net/p/2078601/5994874.aspx?how+to+config+window+Active+Directory+authentication+by+loading+home+page+before+window+security+login+screen+pop+up+</link><title>how to config window Active Directory authentication by loading home page before window security login screen pop up ?</title><description>&lt;p&gt;I am using sql server 2008r2 and IIS 7.5. i am building a website &amp;nbsp;&lt;span&gt;to enable Windows Authentication within an ASP.NET Application, with &amp;nbsp;“Integrated Windows Authentication” . But the problem is when i click the url &amp;quot;10.10.10.10: 123&amp;quot;, it prompt window security login screen to type in a/c &amp;amp; pw instead of loading home page of url. I have added default document &amp;quot;home.aspx&amp;quot; do someone has solution to fix it? Thanks!!&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br&gt;&amp;lt;connectionStrings&amp;gt;&lt;br&gt;&amp;lt;add name=&amp;quot;ADConnectionString&amp;quot; connectionString=&amp;quot;LDAP://domainName/DC=domainName&amp;quot; /&amp;gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;lt;add connectionString=&amp;quot;Data Source=xxx ;Initial Catalog=xxx ;Persist Security Info=false; Integrated Security=SSPI;Trusted_Connection=True; Pooling=True&amp;quot; name=&amp;quot;abc&amp;quot; providerName=&amp;quot;System.Data.SqlClient&amp;quot; /&amp;gt;&lt;/p&gt;&lt;p&gt;&amp;lt;system.web&amp;gt;&lt;/p&gt;&lt;p&gt;&amp;lt;httpHandlers&amp;gt;&lt;br&gt;&amp;lt;add path=&amp;quot;Reserved.ReportViewerWebControl.axd&amp;quot; verb=&amp;quot;*&amp;quot; type=&amp;quot;Microsoft.Reporting.WebForms.HttpHandler, Microsoft.ReportViewer.WebForms, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&amp;quot; validate=&amp;quot;false&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/httpHandlers&amp;gt;&lt;br&gt;&amp;lt;compilation debug=&amp;quot;true&amp;quot; targetFramework=&amp;quot;4.0&amp;quot;&amp;gt;&lt;br&gt;&amp;lt;assemblies&amp;gt;&lt;br&gt;&amp;lt;add assembly=&amp;quot;System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;add assembly=&amp;quot;System.Web.Extensions.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;add assembly=&amp;quot;System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;add assembly=&amp;quot;Microsoft.ReportViewer.WebForms, Version=10.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;add assembly=&amp;quot;Microsoft.ReportViewer.Common, Version=10.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;add assembly=&amp;quot;Microsoft.Build.Framework, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;add assembly=&amp;quot;System.Management, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/assemblies&amp;gt;&lt;br&gt;&amp;lt;buildProviders &amp;gt;&lt;br&gt;&amp;lt;add extension=&amp;quot;.rdlc&amp;quot; type=&amp;quot;Microsoft.Reporting.RdlBuildProvider, Microsoft.ReportViewer.WebForms, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/buildProviders&amp;gt;&lt;br&gt;&amp;lt;/compilation&amp;gt;&lt;/p&gt;&lt;p&gt;&amp;lt;authentication mode=&amp;quot;Windows&amp;quot; &amp;gt;&lt;br&gt;&amp;lt;/authentication&amp;gt;&lt;br&gt;&amp;lt;membership defaultProvider=&amp;quot;AspNetSqlProfileProvider&amp;quot; userIsOnlineTimeWindow=&amp;quot;10&amp;quot;&amp;gt;&lt;br&gt;&amp;lt;providers&amp;gt;&lt;br&gt;&amp;lt;add name=&amp;quot;AspNetSqlProfileProvider&amp;quot; type=&amp;quot;System.Web.Security.SqlMembershipProvider&amp;quot; connectionStringName=&amp;quot;taisangrent_sql&amp;quot; enablePasswordRetrieval=&amp;quot;false&amp;quot; enablePasswordReset=&amp;quot;true&amp;quot; requiresQuestionAndAnswer=&amp;quot;false&amp;quot; requiresUniqueEmail=&amp;quot;false&amp;quot; maxInvalidPasswordAttempts=&amp;quot;5&amp;quot; minRequiredPasswordLength=&amp;quot;1&amp;quot; minRequiredNonalphanumericCharacters=&amp;quot;0&amp;quot; passwordAttemptWindow=&amp;quot;10&amp;quot; applicationName=&amp;quot;/&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/providers&amp;gt;&lt;br&gt;&amp;lt;/membership&amp;gt;&lt;br&gt;&amp;lt;authorization&amp;gt;&lt;br&gt;&amp;lt;allow users=&amp;quot;*&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/authorization&amp;gt;&lt;br&gt;&amp;lt;identity impersonate=&amp;quot;true&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;profile &amp;gt;&lt;br&gt;&amp;lt;providers&amp;gt;&lt;br&gt;&amp;lt;clear /&amp;gt;&lt;br&gt;&amp;lt;add name=&amp;quot;AspNetSqlProfileProvider&amp;quot; type=&amp;quot;System.Web.Profile.SqlProfileProvider&amp;quot; connectionStringName=&amp;quot;ApplicationServices&amp;quot; applicationName=&amp;quot;/&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/providers&amp;gt;&lt;br&gt;&amp;lt;/profile&amp;gt;&lt;br&gt;&amp;lt;roleManager enabled=&amp;quot;false&amp;quot;&amp;gt;&lt;br&gt;&amp;lt;providers&amp;gt;&lt;br&gt;&amp;lt;clear /&amp;gt;&lt;br&gt;&amp;lt;add name=&amp;quot;AspNetSqlRoleProvider&amp;quot; type=&amp;quot;System.Web.Security.SqlRoleProvider&amp;quot; connectionStringName=&amp;quot;ApplicationServices&amp;quot; applicationName=&amp;quot;/&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;add name=&amp;quot;AspNetWindowsTokenRoleProvider&amp;quot; type=&amp;quot;System.Web.Security.WindowsTokenRoleProvider&amp;quot; applicationName=&amp;quot;/&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/providers&amp;gt;&lt;br&gt;&amp;lt;/roleManager&amp;gt;&lt;/p&gt;&lt;p&gt;&amp;lt;sessionState timeout=&amp;quot;600&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/system.web&amp;gt;&lt;br&gt;&amp;lt;system.webServer&amp;gt;&lt;br&gt;&amp;lt;validation validateIntegratedModeConfiguration=&amp;quot;false&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;handlers&amp;gt;&lt;br&gt;&amp;lt;add name=&amp;quot;ReportViewerWebControlHandler&amp;quot; preCondition=&amp;quot;integratedMode&amp;quot; verb=&amp;quot;*&amp;quot; path=&amp;quot;Reserved.ReportViewerWebControl.axd&amp;quot; type=&amp;quot;Microsoft.Reporting.WebForms.HttpHandler, Microsoft.ReportViewer.WebForms, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/handlers&amp;gt;&lt;br&gt;&amp;lt;defaultDocument enabled=&amp;quot;true&amp;quot;&amp;gt;&lt;br&gt;&amp;lt;files&amp;gt;&lt;br&gt;&amp;lt;add value=&amp;quot;home.aspx&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/files&amp;gt;&lt;br&gt;&amp;lt;/defaultDocument&amp;gt;&lt;br&gt;&amp;lt;/system.webServer&amp;gt;&lt;/p&gt;&lt;p&gt;&amp;lt;appSettings&amp;gt;&lt;br&gt;&amp;lt;add key=&amp;quot;aspnet:MaxHttpCollectionKeys&amp;quot; value=&amp;quot;10000&amp;quot; /&amp;gt;&lt;br&gt;&amp;lt;/appSettings&amp;gt;&lt;br&gt;&amp;lt;/configuration&amp;gt;&lt;/p&gt;</description><a10:updated>2015-11-26T07:30:41-08:00</a10:updated><pubDate>2015-11-26T07:30:41.607-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005995534</guid><link>http://forums.asp.net/p/2078795/5995534.aspx?Access+is+denied+to+logon+page</link><title>Access is denied to logon page</title><description>&lt;p&gt;Hi all,&lt;/p&gt;&lt;p&gt;I hope you can help me with the problem I have described below. I can't find out what I'm doing wrong. I'm trying to use very basic form authentication in an ASP.NET webforms application, but my logon.aspx page cannot be displayed.&lt;/p&gt;&lt;p&gt;The error message is:&lt;/p&gt;&lt;h1&gt;Server Error in '/' Application.&lt;/h1&gt;&lt;hr width="100%" size="1" color="silver"&gt;&lt;h2&gt;&lt;i&gt;Access is denied.&lt;/i&gt;&lt;/h2&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif " style="font-family:Arial,Helvetica,Geneva,SunSans-Regular,sans-serif"&gt;&lt;span face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif " style="font-family:Arial,Helvetica,Geneva,SunSans-Regular,sans-serif"&gt;&lt;b&gt;Description:&lt;/b&gt;An error occurred while accessing the resources required to serve this request. The server may not be configured for access to the requested URL.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br&gt;&lt;b&gt;Error message 401.2.: &lt;/b&gt;Unauthorized: Logon failed due to server configuration. &amp;nbsp;Verify that you have permission to view this directory or page based on the credentials you supplied and the authentication methods enabled on the Web server. &amp;nbsp;Contact the Web server's administrator for additional assistance.&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;hr width="100%" size="1" color="silver"&gt;&lt;p&gt;&lt;span face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif " style="font-family:Arial,Helvetica,Geneva,SunSans-Regular,sans-serif"&gt;&lt;b&gt;Version Information:&lt;/b&gt;&amp;nbsp;Microsoft .NET Framework Version:4.0.30319; ASP.NET Version:4.6.114.0&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif " style="font-family:Arial,Helvetica,Geneva,SunSans-Regular,sans-serif"&gt;My web.config is:&lt;/span&gt;&lt;span face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif " style="font-family:Arial,Helvetica,Geneva,SunSans-Regular,sans-serif"&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif " style="font-family:Arial,Helvetica,Geneva,SunSans-Regular,sans-serif"&gt;&lt;span face="Arial" style="font-family:Arial"&gt;&amp;nbsp;&amp;lt;location path=&amp;quot;Logon.aspx&amp;quot;&amp;gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;system.web&amp;gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;authorization&amp;gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;allow users =&amp;quot;*&amp;quot;/&amp;gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;/authorization&amp;gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;/system.web&amp;gt;&lt;br&gt;&amp;nbsp; &amp;lt;/location&amp;gt;&lt;br&gt;&amp;nbsp; &amp;lt;system.web&amp;gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;authentication mode=&amp;quot;Forms&amp;quot;&amp;gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;forms loginUrl=&amp;quot;Logon.aspx&amp;quot;&amp;gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;/forms&amp;gt;&lt;br&gt;&amp;nbsp; &amp;lt;/authentication&amp;gt;&lt;br&gt;&amp;nbsp; &amp;lt;authorization&amp;gt;&lt;br&gt;&amp;lt;deny users=&amp;quot;?&amp;quot; /&amp;gt;&lt;br&gt;&amp;nbsp; &amp;lt;/authorization&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif " style="font-family:Arial,Helvetica,Geneva,SunSans-Regular,sans-serif"&gt;I appreciate your help. Thanks in advance!&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif " style="font-family:Arial,Helvetica,Geneva,SunSans-Regular,sans-serif"&gt;Cheers.&lt;/span&gt;&lt;/p&gt;</description><a10:updated>2015-11-29T09:37:42-08:00</a10:updated><pubDate>2015-11-29T09:37:42.47-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005995890</guid><link>http://forums.asp.net/p/2078909/5995890.aspx?How+do+I+specify+the+user+who+logs+into+my+app+in+my+custom+principal</link><title>How do I specify the user who logs into my app in my custom principal</title><description>&lt;p&gt;During my personal study online. I was able to learn how to do a custom principal. Now I have been learning how to use a Authorize attribute.&amp;nbsp;&lt;/p&gt;&lt;p&gt;I have different kinds of administrators which include SuperAdmin, Moderator and Operator.&lt;/p&gt;&lt;p&gt;So I want to be able to specify some controllers to be strictly for SuperAdmin and Moderator Admin. So that an Operator user would not access the controllers that are meant for the Super Admin user. I really dont know how to do this since I am using a custom principal.&lt;/p&gt;&lt;p&gt;I would paste my custom principal code may be I could get help here.&lt;/p&gt;&lt;pre class="prettyprint "&gt;public class CustomPrincipal : ICustomPrincipal    {        public IIdentity Identity { get; private set; }        public bool IsInRole(string role) { return false; }        public CustomPrincipal(string username, string roles)        {            this.Identity = new GenericIdentity(username, roles);        }        public int UserID { get; set; }        public string Username { get; set; }        public string Email { get; set; }        public string Admintype { get; set; }        public int ActivityID { get; set; } //This is needed during the logout / signout process        public int Client_CompanyID { get; set; } //This value would tie the users to the companies that they fall under    }Global.asx code.........     protected void Application_PostAuthenticateRequest(Object sender, EventArgs e)        {            HttpCookie cookie = Request.Cookies[FormsAuthentication.FormsCookieName];  if (cookie != null)            {                FormsAuthenticationTicket authTicket = FormsAuthentication.Decrypt(cookie.Value);                JavaScriptSerializer serializer = new JavaScriptSerializer();                Debug.WriteLine(&amp;quot;This is the username from the authentication ticket   &amp;quot; &amp;#43; authTicket.Name);                if (authTicket.Name.Contains(&amp;quot;_merchant_org_delivery&amp;quot;))                {                    //This means that the login process was done by a company or organisation or delivery firm                    CustomPrincipalSerializeModel serializemodel = serializer.Deserialize&amp;lt;CustomPrincipalSerializeModel&amp;gt;(authTicket.UserData);                    if (serializemodel == null)                    {                        Response.Write(&amp;quot;Login process failed, Please go back try again !!&amp;quot;);                        return;                    }                    CustomPrincipal newUser = new CustomPrincipal(authTicket.Name, serializemodel.Admintype);                    newUser.UserID = serializemodel.UserID;                    newUser.Username = serializemodel.Username;                    newUser.ActivityID = serializemodel.ActivityID;                    newUser.Admintype = serializemodel.Admintype;                    newUser.Client_CompanyID = serializemodel.Client_CompanyID;                    newUser.Email = serializemodel.Email;                    newUser.EncryptionKey = serializemodel.EncryptionKey;                    newUser.VerificationKey = serializemodel.VerificationKey;                    HttpContext.Current.User = newUser;                }    }}..............................My Controller login methodI call this helper method after doing the login[NonAction]        private void CreateAuthenticationTicket(int userid,string admintype,string username,string email,int activityid,int Client_CompanyID){            //Create the keys that would be used for encryption            KeyProvider keys = new KeyProvider();            keys.EncryptionKey = CryptoHelper.GenerateRandomBytes();            keys.VerificationKey = CryptoHelper.GenerateRandomBytes();                                   CustomPrincipalSerializeModel serialmodel = new CustomPrincipalSerializeModel();            //Please note that all values stored in the custom principal are  encrypted            serialmodel.UserID = userid;            serialmodel.Admintype = admintype;            serialmodel.Username = username;            serialmodel.Email = email;            serialmodel.ActivityID = activityid;            serialmodel.Client_CompanyID = Client_CompanyID;                     JavaScriptSerializer javascriptserializer = new JavaScriptSerializer();            var userData = javascriptserializer.Serialize(serialmodel);            username &amp;#43;= &amp;quot;_merchant_org_delivery&amp;quot;;  //We would use this string to differentiate cookie type at login stage            FormsAuthenticationTicket authTicket = new FormsAuthenticationTicket(1, username, DateTime.Now, DateTime.Now.AddMinutes(15), false, userData);            string encTicket = FormsAuthentication.Encrypt(authTicket);                       HttpCookie cookie = new HttpCookie(FormsAuthentication.FormsCookieName, encTicket);            Response.Cookies.Add(cookie);                          }        &lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;When using Authorize attribute&lt;/p&gt;&lt;p&gt;I stuffs like [Authorize(User=&amp;quot;admin&amp;quot;)]&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;Please how do I set this from my code.&lt;/p&gt;&lt;p&gt;I would like to be able to do something like . &amp;nbsp; [Authorize(User=&amp;quot;Super Admin&amp;quot;)] &amp;nbsp;[Authorize=&amp;quot;Moderator&amp;quot;]&lt;/p&gt;&lt;p&gt;How do I go about this. I need help.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description><a10:updated>2015-11-30T16:32:26-08:00</a10:updated><pubDate>2015-11-30T16:32:26.76-08:00</pubDate></item><item><guid isPermaLink="false">urn:uuid:00000000-0000-0000-0000-000005995369</guid><link>http://forums.asp.net/p/2078733/5995369.aspx?Just+Login+and+Log+off+base+on+Identity+2+or+any+Claims+based+identity</link><title>Just Login and Log off base on Identity 2 or any Claims-based identity</title><description>&lt;p&gt;Hi dear ,&lt;/p&gt;&lt;p&gt;I have an WebApplication base on ASP.Net MVC 5 .My database was created in sqlserver( i use database first ) so for authentication i dont need to create new tables because i have my tables.&lt;/p&gt;&lt;p&gt;I want just Set Cookie base on Identity 2 and Log off&lt;/p&gt;&lt;pre class="prettyprint "&gt;var result = objUser.Login(username ,password);//check exist            if(result.IsValid == true)            {// set cookie and login}&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;what is best solution .How can i do it?&lt;/p&gt;&lt;p&gt;please help me&lt;/p&gt;&lt;p&gt;thanks&lt;/p&gt;</description><a10:updated>2015-11-28T05:26:47-08:00</a10:updated><pubDate>2015-11-28T05:26:47.427-08:00</pubDate></item></channel></rss>